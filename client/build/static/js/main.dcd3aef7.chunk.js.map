{"version":3,"sources":["pi_pie.svg","pi_pi.svg","pi_circle.svg","RootReducer.js","reducers/settings.js","types.js","reducers/user.js","reducers/products.js","reducers/order.js","reducers/cart.js","reducers/facs.js","api.js","actions/settup.js","utils/setAuthHeader.js","actions/auth.js","actions/user.js","utils/setLanHeader.js","components/forms/credentials.js","components/brand/sign.js","components/pages/MainMenu.js","websocket.js","components/forms/SearchSetupForm.js","components/ui/AppSetup.js","components/pages/HomePage.js","actions/cart.js","components/ui/user/admin.js","components/pages/Top.js","components/forms/OrderInput.js","components/ui/order/OrderRow.js","components/ui/order/OrderList.js","components/ui/order/Order.js","components/pages/product/index.js","components/pages/product/ProductsList.js","components/ui/menus/categories.js","components/pages/OrdersPage.js","components/pages/CatalogPage.js","components/routes/user.js","components/routes/admin.js","components/ui/order/CollectionTable.js","components/pages/admin/fac/BakerHome.js","actions/order.js","components/pages/admin/AllHome.js","components/pages/admin/RoleHome.js","components/pages/RepeatPage.js","components/pages/admin/AdminLogin.js","components/pages/PlayPage.js","components/ui/user/LocRow.js","components/ui/user/UserLocationsList.js","components/pages/CartPage.js","components/ui/user/UserPerksList.js","components/pages/UserPage.js","components/forms/ulocation.js","components/forms/LocationNumbersList.js","components/forms/userDoor.js","components/forms/RefInput.js","components/pages/UserLocationsPage.js","components/pages/UserLocationEdit.js","components/forms/admin/addLocation.js","components/forms/getUser.js","components/pages/admin/addRep.js","components/pages/admin/ui/mainMenu.js","components/pages/admin/ui/subMenu.js","api/admin.js","components/pages/admin/Locations.js","actions/admin/index.js","components/forms/user/userForm.js","components/pages/admin/user/views.js","components/pages/admin/index.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","combineReducers","settings","state","arguments","length","undefined","action","type","Object","objectSpread","data","user","locations","map","item","ind","concat","toConsumableArray","products","order","cart","facs","console","log","fac","api","setUI","axios","get","then","res","getLocationList","id","getProductList","lan","getLocation","ref","getLocationFac","loc","post","signup","credentials","checkOne","initUser","addLocation","updateLocation","pushOrder","collection","setInterface","setLocationFactory","ui","dispatch","getLocations","itm","setProductsList","getFacStore","_ref","city","checkReference","catch","err","error","setAuthHeader","token","defaults","headers","common","userSignedIn","initialUser","addUserLocation","updateUserLocation","userInit","Promise","resolve","reject","getLocationData","response","setLanHeader","Credentials","logging","errors","en","es","bg","onSubmit","_this$state","_this","_this$props","props","pass","submit","login","getFacs","validate","setState","keys","uid","membership","l","location","password","Validator","isEmail","email","onInput","e","name","defineProperty","target","value","this","react_default","a","createElement","className","Form","Input","fluid","required","inline","centered","focus","onChange","placeholder","Message","negative","Header","Button","color","React","Component","Sign","size","Label","circular","basic","MainMenu","_this$props2","Group","as","Link","to","icon","content","disabled","propType","PropType","number","isRequired","shape","userSocket","connect","SearchSetupForm","results","isLoading","resetComponent","handleResultSelect","result","title","message","appsetup","onStreet","handleSearchChange","_ref2","setTimeout","re","RegExp","_","escapeRegExp","filter","list","test","preventDefault","Search","assign","loading","onResultSelect","onSearchChange","debounce","leading","AppSetup","onLanguage","_this$props3","setup","forms_SearchSetupForm","Divider","horizontal","onClick","roles","initSocket","ID","member","lab","getID","role","adm","toString","split","reverse","_roles","m","i","Number","getRole","URL","WebSocket","onerror","onopen","fireSocket","payload","send","HomePage","isAuthorized","cities","one_city","socket","signUp","getLocalFacs","new_user","username","newUser","cb","mbr","_mbr","forEach","push","join","msg","onmessage","src","LogoPie","alt","LogoPi","sign","pages_MainMenu","credentials_Credentials","init","ui_AppSetup","localStorage","valePizzaJWT","clearCart","UserAdmin","Icon","inverted","react_router_dom","Top","_useState","useState","_useState2","slicedToArray","openConfirmation","setConfirmationOpen","cty","c","open","Confirm","header","onCancel","ะต","onConfirm","close","user_admin","OrderInput","units","isNumeric","code","onItemSelect","Math","abs","onAdd","onAddItem","items","category","_invalid","_empty","Select","key","options","OrderRow","stat","empty","row","onDelete","quant","parseFloat","price","toFixed","OrderList","order_OrderRow","Order","onDeleteItem","slice","findIndex","o","product","inx","ent","onOrder","addCart","total","primary_loc_id","primary_loc_fac_open","itemSelected","prime","it","text","sum","reduce","acc","cv","ttl","forms_OrderInput","order_OrderList","width","Product","entry","mode","style","backgroundImage","backgroundSize","dscr","maxWidth","display","overflowX","backgroundColor","ProductsList","view","minWidth","left","MenuList","onCategory","cats","includes","cl","OrdersPage","cat","onItemSelected","fire","_this$props$user","JSON","stringify","find","cat_list","product_ProductsList","categories","order_Order","Catalog","q","fli","f","prod","array","isAuth","component","rest","objectWithoutProperties","react_router","render","isAdmin","CollectionTable","table","tabs","Grid","celled","Row","Column","ordered","Date","ordered_at","pickup","pick_up_time","getHours","getMinutes","getOrders","setData","order_CollectionTable","AllAdminHome","_rest$match","match","url","_path","path","BakerHome","RepeatPage","AdminLogin","LocationRow","edit","locClick","current","addstyle","Checkbox","checked","street","UserLocations","onLocation","LocRow","CartPage","currentLocation","delivery","onLocationSlected","defLoc","makeCart","user_location","fac_id","_this$state2","UserLocationsList","positive","cancelCart","string","statusText","UserPerksList","has_perks","perks","UserPage","getLocData","prevProps","free_pizza","listLocations","widths","user_UserPerksList","bool","UserLocation","getInput","getNumbers","onNewData","UserLocationList","UserDoor","valid","v","isNaN","addData","onCheckBox","onClear","bell","mobile","floor","door","label","ReferenceInput","onRef","labelPosition","actionPosition","UserLocationsPage","input","locate","loc_id","rep","nm","verified","omit","noRef","saveLocation","submitLocation","userAddLocation","streets","RefInput","ulocation_UserLocation","LocationNumbersList_UserLocationList","userDoor_UserDoor","UserLocationEdit","params","userUpdateLocation","AddLocationForm","lat","msgClosed","onReset","closeMessage","onCity","_objectSpread3","tp","_this2","sort","entr","onDismiss","marginBottom","stopPropagation","GetUser","AddRep","admin","getUser_GetUser","onMenu","log2","el","SubMenu","subset","pro","indx","api_admin","getList","Locations","element","addLocation_AddLocationForm","addRep","UserForm","User","userForm_UserForm","AdminHome","main","mView","sView","onSubMenu","onMainMenu","toLowerCase","trans","window","screen","mainMenu","subMenu","views","admin_Locations","exact","routes_admin","RoleHome","routes_user","CatalogPage","PlayPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","RootReducer","banner","applyMiddleware","thunk","GS","Set","Root","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.dcd3aef7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pi_pie.90b4f22b.svg\";","module.exports = __webpack_public_path__ + \"static/media/pi_pi.27d4ed5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/pi_circle.180a8a2e.svg\";","import { combineReducers } from 'redux'\n\nimport { settings } from './reducers/settings'\nimport { user } from './reducers/user'\nimport { products } from './reducers/products'\nimport { order } from './reducers/order'\nimport { cart } from './reducers/cart'\nimport { facs } from './reducers/facs'\n\nexport default combineReducers({\n  settings,\n  user,\n  products,\n  order,\n  cart,\n  facs\n})\n","import { SETUP_CHANGED } from '../types'\n\nexport const settings = (state={},action) => {\n  switch (action.type) {\n    case SETUP_CHANGED:\n      return {...state, ...action.data}\n    default:\n      return state\n\n  }\n}\n","export const USER_SIGNED = 'USER_SIGNED'\nexport const USER_LOGGED = 'USER_LOGGED'\nexport const USER_INIT = 'USER_INIT'\nexport const USER_LOCATION = 'USER_LOCATION'\nexport const USER_ADD_LOCATION = 'USER_ADD_LOCATION'\nexport const USER_UPDATE_LOCATION = 'USER_UPDATE_LOCATION'\n\nexport const SETUP_CHANGED = 'SETUP_CHANGED'\nexport const SET_FAC = 'SET_FAC'\n\nexport const ORDER_LIST = 'ORDER_LIST'\nexport const ORDER_CLEAR = 'ORDER_CLEAR'\n\nexport const CART_LIST = 'CART_LIST'\nexport const CART_CLEAR = 'CART_CLEAR'\n\nexport const PRODUCT_LIST = 'PRODUCT_LIST'\n\n// === ADMIN ACTIONS: ===========================\n\nexport const ADD_LOCATION = 'ADD_LOCATION'\n","import { USER_SIGNED,USER_INIT,USER_LOCATION,USER_UPDATE_LOCATION,USER_ADD_LOCATION } from '../types'\nexport const user = (state={},action) => {\n  switch (action.type) {\n    case USER_SIGNED:\n      //window.Store.notify(action.type)\n      return action.user\n    case USER_LOCATION:\n      return {...state, ...action.user}\n    case USER_UPDATE_LOCATION:\n      return {\n        ...state,\n        locations: state.locations.map( (item,ind) => {\n          if(ind === action.ind) {\n            return {...item, ...action.data}\n          } else {\n            return item\n          }\n        })\n      }\n    case USER_ADD_LOCATION:\n      return {\n        ...state,\n        locations: state.locations? [...state.locations, action.data] : [action.data]\n      }\n    case USER_INIT:\n      return {...state, ...action.user}\n    default:\n      return state\n\n  }\n}\n","import { PRODUCT_LIST } from '../types'\n\nexport const products = (state=[],action) => {\n  switch (action.type) {\n    case PRODUCT_LIST:\n      return action.data\n    default:\n      return state\n\n  }\n}\n","import { ORDER_LIST,ORDER_CLEAR } from '../types'\n\nexport const order = (state=[],action) => {\n  switch (action.type) {\n    case ORDER_LIST:\n      return action.order\n    case ORDER_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { CART_LIST,CART_CLEAR } from '../types'\n\nexport const cart = (state=[],action) => {\n  switch (action.type) {\n    case CART_LIST:\n      return action.order\n    case CART_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { SET_FAC } from '../types'\n\nexport const facs = (state={},action) => {\n\n  switch (action.type) {\n    case SET_FAC:\n    console.log('New fac?: ',action.facs)\n      return action.fac\n    default:\n      return state\n  }\n}\n","import axios from 'axios'\n\nexport default {\n  settup: {\n    setUI: () => axios.get('/ui').then( res => res.data ),\n    getLocationList: (item,id) => axios.get('/admin/location/'+item+'/'+id).then( res => res.data ),\n    getProductList: lan => axios.get('/products/'+lan).then( res => res.data ),\n    getLocation: ref => axios.get('/admin/location/ref/'+ref).then( res => res.data ),\n    getLocationFac: loc => axios.post('/user/facs', {id:loc}).then( res => res.data )\n  },\n  user: {\n    signup: credentials => axios.post('/auth', { credentials }).then( res => res.data.user ),\n    checkOne: () => axios.get('/auth/check').then( res => res.data),\n    initUser: () => axios.get('/user').then( res => res.data.user ),\n    addLocation: data => axios.post('/user/location', { data }).then( res => {\n      console.log(res)\n      return res.data.id\n    } ),\n    updateLocation: (data,id) => axios.post('/user/location/'+id, { data }).then( res => res.data ),\n    //locationFac: loc => axios.post('/user/facs', {ids:loc}).then( res => res.data )\n  },\n  order: {\n    pushOrder: data => axios.post('/orders', { data }).then( res => res.data ),\n    collection: id => axios.get(`/admin/fac/${id}/orders`)\n  }\n}\n","import { SETUP_CHANGED,PRODUCT_LIST,SET_FAC } from '../types.js'\nimport api from '../api'\n\nexport const setInterface = data => ({type: SETUP_CHANGED, data})\n\nexport const setLocationFactory = fac => ({\n  type: SET_FAC,\n  fac\n})\n\nexport const setUI = ui => dispatch =>\napi.settup.setUI(ui).then( data => {\n  dispatch(setInterface(data))\n})\n\nexport const setProductsList = data => ({type: PRODUCT_LIST, data})\n\nexport const getLocations = (itm,id) => dispatch =>\napi.settup.getLocationList(itm,id).then( data => {\n  console.log('getLocationsList: ', data);\n  dispatch(setInterface(data))\n})\n\nexport const getProductList = lan => dispatch =>\napi.settup.getProductList(lan).then( data => {\n  dispatch(setProductsList(data))\n})\n\nexport const getFacStore = ({city}) => dispatch =>\napi.settup.getLocationFac(city).then( fac => {\n  dispatch(setLocationFactory(fac))\n})\n\nexport const checkReference = ref => dispatch =>\napi.settup.getLocation(ref).then( data => {\n  if(data){\n    return data\n  }\n})\n.catch(err => ({error:8}))\n","import axios from 'axios'\n\nexport default ( token = null ) => {\n  if(token) {\n    axios.defaults.headers.common['Authorization'] = token\n  } else {\n    delete axios.defaults.headers.common['Authorization']\n  }\n}\n","import { USER_SIGNED, USER_LOGGED, USER_INIT } from '../types'\nimport api from '../api'\nimport setAuthHeader from '../utils/setAuthHeader'\n\nexport const userSignedIn = user => ({\n  type: USER_SIGNED,\n  user\n})\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\n// ===== Action Creators: =========================================\n// SignUp/LogIn User with email/pass\nexport const signUp = (credentials,pass) => dispatch => {\n  if(pass){\n    // credentials.password = pass\n    // api.login(credentials).then(...)\n  } else {\n    return new Promise( (resolve,reject) => {\n      api.user.signup(credentials).then( user => {\n        localStorage.valePizzaJWT = user.token\n        setAuthHeader(user.token)\n        dispatch(userSignedIn(user))\n        //if(user.new_user) {\n        //console.log('Call userInit()')\n        //api.user.initUser().then( user => {\n          dispatch(initialUser(user))\n          resolve(user)\n        //})\n        //}\n      })\n    })\n  }\n}\n\n// Check User Token/Credentials\nexport const checkUserToken = user => dispatch => {\n  console.log('Check this one:',user)\n  return new Promise( (resolve,reject) => {\n    api.user.checkOne().then( (result,user) => {\n      if(!result) reject({ err: { message: 'User doesn\\'t exist' }})\n      //dispatch(userSignedIn(user))\n      resolve()\n    })\n  })\n}\n","import {\n  USER_INIT, USER_LOCATION, USER_UPDATE_LOCATION, USER_ADD_LOCATION,\n  SET_FAC\n} from '../types'\nimport api from '../api'\n\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\nexport const addUserLocation = data => ({\n  type: USER_ADD_LOCATION,\n  data\n})\n\nexport const setLocationFactories = facs => ({\n  type: SET_FAC,\n  facs\n})\n\nexport const updateUserLocation = (ind,data) => ({\n  type: USER_UPDATE_LOCATION,\n  ind: ind,\n  data\n})\n\nexport const userInit = () => dispatch => {\n  return new Promise( (resolve,reject) => {\n    api.user.initUser().then( user => {\n      dispatch(initialUser(user))\n// Get all FACs for user.locations list\n      resolve(user) // or user.locations\n    })\n    .catch(error => {\n      reject(error)\n    })\n  })\n}\n\n// Get List of all FACs for each user.city\nexport const getLocalFacs = loc => dispatch => {\n  //api.user.locationFac(loc).then( facs => {\n  //  let FACs = Object.keys(facs).map( k => ({[k]: facs[k]}))\n  //  dispatch(setLocationFactories(FACs))\n  //})\n}\n\nexport const userAddLocation = data => dispatch => {\n  api.user.addLocation(data).then( id => {\n    data.id = id\n    dispatch(addUserLocation(data))\n  })\n}\n\nexport const userUpdateLocation = (ind,id,data) => dispatch => {\n  api.user.updateLocation(data,id).then( res => {\n    console.log(res)\n    dispatch(updateUserLocation(ind,data))\n  })\n}\n\nexport const getLocationData = (ref,ind) => dispatch => {\n  api.settup.getLocation(ref).then( response => {\n    dispatch(updateUserLocation(ind,response))\n  })\n}\n","import axios from 'axios'\n\nexport default ( lan ) => {\n  if(lan) {\n    axios.defaults.headers.common['Accepted-Language'] = lan\n  } else {\n    delete axios.defaults.headers.common['Accepted-Language']\n  }\n}\n","import React from 'react'\nimport Validator from 'validator'\nimport { Icon,Message,Button,Form } from 'semantic-ui-react'\n\nexport default class Credentials extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['register','example@mail.com','my-secret-password','Save'],\n      es: ['registro','micorreo@mail.com','mi-contrasena-secreta','Gurdar'],\n      bg: ['ะฒะปะตะท','example@mail.com','ะฟะฐัะพะปะฐ','ะะปะตะท']\n    }\n  }\n\n  onSubmit = () => {\n    const {data, errors} = this.state\n    const { pass,submit,getFacs,login } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(Object.keys(err).length !== 0) return\n    if(!pass) {\n      submit(data,false).then( user => {\n        const { uid,membership,locations } = user\n\n// get all user saved locations:\n        if(!locations) return\n        let loc = locations.map( l => {\n          return l.location\n        })\n        //getFacs(loc)\n      })\n      //init()\n    } else {\n      login(data,true)\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' fluid={pass} color={pass ? 'red' : 'black'}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Label } from 'semantic-ui-react'\n\nconst Sign = ({size}) => {\n  return (\n    <Label size={size} circular basic>\n      &pi;\n    </Label>\n  )\n}\n\nexport default Sign\n\n/*\n<Label size={size} circular basic>\n  &pi;\n</Label>\n*/\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropType from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nimport { getProductList } from '../../actions/settup'\n\nclass MainMenu extends React.Component {\n\n  state = {\n    ui: {\n      en: ['Play','Eat','Repeat'],\n      es: ['Jugar','Comer','Repetir'],\n      bg: ['ะะณัะฐะน','ะฏะถ','ะะพะฒัะพัะธ']\n    }\n  }\n\n  componentDidMount() {\n    const { city, getProductList } = this.props\n    //getProductList(city)\n  }\n\n  render(){\n    const { lan,city,membership } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='menu-bar'>\n        <Button.Group color='grey'>\n          <Button as={Link} to='/play' icon='play circle' content={ui[0]}/>\n          <Button disabled={membership<64} as={Link} to='/order' icon='food' content={ui[1]} />\n          <Button as={Link} to='/repeat' icon='undo' content={ui[2]} />\n        </Button.Group>\n      </div>\n    )\n  }\n\n}\n\nMainMenu.propType = {\n  city: PropType.number.isRequired,\n  user: PropType.shape({\n    membership: PropType.number.isRequired\n  }).isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  membership: state.user.membership\n})\n\nexport default connect(mapStateToProps, { getProductList })(MainMenu)\n","//let WebSocketClient = require('websocket').w3cwebsocket\n\nvar userSocket,\n    adminSocket,\n    bakerySocket,\n// ------------ 1 --- 2 ---- 4 ---- 8 --- 16 -- 32 -- 64 --- 128 --- 256\n    roles = ['root','lab','fac','baker','pos','dlv','test','rep','customer']\n// Check User Role:\nconst getID = (member,id,fac,lab) => {\n  switch (member) {\n    case 2 : return lab\n    case 4 : return fac\n    case 8 : return fac\n    case 64 : return fac\n    default : return id\n  }\n}\nconst getRole = member => {\n  let adm = member ? (member).toString(2).split('').reverse() : 0\n  console.log('memberships: ',adm)\n  let _roles=[], r\n  _roles = roles.filter( (m,i) => Number(adm[i]) === 1 )\n  if(_roles.length === 0) return 'home'\n  return r = _roles.length > 1 ? _roles[_roles.length - 1] : _roles[0]\n}\n\n\nexport const initSocket = (id,membership,fac) => {\n  let ID = getID(membership,id,fac,null)\n  let role = getRole(membership)\n  if(role === 'rep') role = 'customer'\n\n  let URL = process.env.NODE_ENV==='production'?\n  `wss://pizzapi.co/?id=${ID}` :\n  `ws://localhost:8080/?id=${ID}`\n\n  console.log('Role/ID: ', role, ID)\n  console.log('WS on: ', URL)\n\n  userSocket = new WebSocket(URL,`${role}-protocol`)\n  // listening for any userSocket error\n  userSocket.onerror = error => console.log('WebSocket error: ' + error)\n\n  userSocket.onopen = () => console.log('Socket on Client')\n}\n\nexport const subscribeSocket = cb => {\n  userSocket.onmessage = message => {\n    if(!cb) return console.log(message.data)\n    //console.log(message.data)\n    cb(message.data)\n  }\n}\n\nexport const fireSocket = (action,payload) => userSocket.send(payload)\n\nexport const closeSocket = id => {\n  userSocket.close()\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\nimport { Form,Button,Icon,Search,Message } from 'semantic-ui-react'\n\nclass SearchSetupForm extends React.Component {\n  state = {\n    value: '',\n    results: [],\n    isLoading: false,\n    data: {},\n    ui: {\n      en: ['Cancel','Submit','No service in that City', 'Sorry:'],\n      es: ['Cancelar','Guardar','Sin servicio en esta Ciudad', 'Perdona, pero:'],\n      bg: ['ะะทััะธะน','ะะฐะฟะฐะทะธ','ะะต ะพะฑัะปัะถะฒะฐะผะต ัะพะทะธ ะณัะฐะด ะฒัะต ะพัะต...', 'ะกัะถะฐะปัะฒะฐะผะต, ะฝะพ:']\n    }\n  }\n\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    this.setState({\n      ...this.state,\n      value: result.title,\n      data: {...this.state.data, [name]: result.id},\n      message: null\n    })\n    if(!this.props.appsetup){this.props.onStreet({[name]: result.id})}\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(this.props.list, isMatch),\n      })\n    }, 300)\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const { appsetup,onSubmit } = this.props\n    const { data } = this.state\n    if(appsetup){onSubmit(data)}\n  }\n\n  render() {\n    const {value,results,isLoading,data,message} = this.state\n    const ui = this.state.ui[this.props.lan]\n    const { name,list,appsetup } = this.props\n    const source = list\n    return (\n      <div className='custom-form padded'>\n        <Form.Group onSubmit={this.onSubmit}>\n          <Form>\n            <div className='ui grid'>\n              <div className='grid column sixteen wide'>\n                <Search\n                  fluid\n                  name={name}\n                  loading={isLoading}\n                  onResultSelect={this.handleResultSelect}\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n                  results={results}\n                  value={value}\n                  {...this.props}\n                />\n              </div>\n              {message && message !== '0' && <Message negative size='mini'>\n                <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[2]}</p>\n                </Message>\n              }\n              {appsetup &&\n                <div className='grid column sixteen wide oval-but extra-padded'>\n                  <Button type='submit'\n                    basic={Object.keys(data).length===0}\n                    disabled={Object.keys(data).length===0}\n                    name={name}\n                    color='grey'\n                    content={ui[1]}\n                  />\n                </div>\n              }\n            </div>\n\n          </Form>\n        </Form.Group>\n      </div>\n    )\n  }\n}\n\nexport default SearchSetupForm\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport setLanHeader from '../../utils/setLanHeader'\nimport SearchSetupForm from '../forms/SearchSetupForm'\nimport { initialUser } from '../../actions/user'\nimport { setInterface,setUI,getProductList,getFacStore } from '../../actions/settup'\n\n// First: Set USER: Reg/Log\n// Second: Set CITY/Zone\n// Then: Load Store for CITY/Zone\n\nclass AppSetup extends React.Component {\n  state = {\n    ui: {\n      en: ['Your City/Zone:','ENG','ESP','ะะ'],\n      es: ['Tu Ciudad/Zona:','ENG','ESP','ะะ'],\n      bg: ['ะะทะฑะตัะธ ะัะฐะด/ะะพะฝะฐ:','ENG','ESP','ะะ']\n    }\n  }\n\n  onLanguage = (e, {name}) => {\n    const { setInterface,setUI,getProductList } = this.props\n// Set Client Language:\n    setInterface({lan: name})\n    setLanHeader(name)\n// API GET for Language/City\n    setUI(name)\n// API GET all Products List by Language\n    getProductList(name)\n  }\n\n// FORM SUBMIT:\n  onSubmit = data => {\n    const { appsetup,setInterface,initialUser,getFacStore } = this.props\n    console.log(data)\n// If App Setup:\n    if(appsetup){\n// Set CITY:\n      setInterface(data)\n// API POST FAC Store: get factory+store for location ID\n  //  getFacStore('AppSetup',data)\n    } else {\n// If User Setup:\n      initialUser(data)\n    }\n  }\n\n  render() {\n    const { lan,appsetup,name,list,setup } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='vintage left'>\n        {name==='city' && <p>{ui[0]}</p>}\n        <SearchSetupForm\n          lan={lan}\n          appsetup={appsetup}\n          onSubmit={this.onSubmit}\n          setup={setup}\n          name={name}\n          list={list}\n        />\n        <Divider horizontal />\n        <div className='menu-bar'>\n          <Button.Group color='grey' size='mini'>\n            <Button onClick={this.onLanguage} disabled={lan==='en'} name='en' content={ui[1]}/>\n            <Button onClick={this.onLanguage} disabled={lan==='es'} name='es' content={ui[2]} />\n            <Button onClick={this.onLanguage} disabled={lan==='bg'} name='bg' content={ui[3]} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan\n})\nexport default connect(mapStateToProps,{initialUser,setInterface,setUI,getProductList,getFacStore})(AppSetup)\n","import React, {useState} from 'react'\nimport {connect} from 'react-redux'\nimport PropType from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\nimport LogoCircle from '../../pi_circle.svg'\nimport LogoPie from '../../pi_pie.svg'\nimport LogoPi from '../../pi_pi.svg'\n\nimport Credentials from '../forms/credentials'\nimport Sign from '../brand/sign'\nimport MainMenu from './MainMenu'\nimport AppSetup from '../ui/AppSetup'\n\nimport { signUp } from '../../actions/auth'\nimport { userInit,getLocalFacs } from '../../actions/user'\nimport { setInterface,getFacStore } from '../../actions/settup'\nimport { initSocket,subscribeSocket } from '../../websocket'\n\nconst HomePage = ({\n  isAuthorized,user,\n  fac,\n  lan,\n  city,one_city,cities,socket,\n  signUp,userInit,getLocalFacs,getFacStore,setInterface\n}) => {\n  const state = {\n    ui: {\n      es: ['Bienvenido, ','Hola, ','You\\'re in:','Admin','LAB','FAC','PoS','Courier','REP'],\n      en: ['Hello, ','Welcome back, ','Estas en:','Admin','LAB','FAC','PoS','Courier','REP'],\n      bg: ['ะะพะฑัะต ะดะพััะป, ','ะะดัะฐะฒะตะน, ','ะะฐะผะธัะฐั ัะต ะฒัะฒ:','Admin','LAB','FAC','PoS','ะััะธะตั','REP']\n    }\n  }\n\n  const { membership,new_user,username,uid } = user\n\n  let newUser = new_user === undefined || new_user\n  console.log('HomePage-New User?: ', newUser)\n  let cty = !!one_city? one_city : city\n\n// Check User Role:\n  const mbr = ['boss','lab','fac','baker','pos','dlv', 'tester','rep','customer']\n  let adm = membership ? (membership).toString(2).split('').reverse() : 0\n  let _mbr=[], member\n  mbr.forEach( (m,i) => {\n    if (Number(adm[i])) { _mbr.push(mbr[i]) }\n  })\n  if(_mbr.length === 0) {\n    member = 'home'\n  } else {\n    member = _mbr.length > 1 ? _mbr.join('/') : _mbr[0]\n  }\n  console.log(member)\n\n// Get FAC's Store when City's set\n  if(!!city && !Object.keys(fac).length>0){\n    let data = {}\n    data.city = city\n// Set CITY:\n      //setInterface(data)\n// API:POST FAC Store: get factory+store for location ID\n    getFacStore(data)\n  }\n\n  if(isAuthorized && Object.keys(fac).length>0 && !socket) {\n    initSocket(uid,membership,fac.id)\n    setInterface({socket: true})\n    subscribeSocket(msg=>console.log(msg))\n  }\n\n  return (\n    <div className='App-content topped padded'>\n      <div className='init central padded'>\n        <div className='logo-still'>\n          <img src={LogoPie} className='logo' alt='logo' />\n          <img src={LogoPi} className='logo-top' alt='logo' />\n        </div>\n\n\n{/* LOG or Register: */}\n        {city !== undefined &&\n          <p className='vintage no-border'>\n            {lan? ( !newUser? state.ui[lan][1]: state.ui[lan][0]) : 'ะะพะฑัะต ะดะพััะป'}\n            {username? username : <Sign size='huge'/>}\n          </p>\n        }\n\n{/* Find available CITY: !(!!cty) */}\n        { !city ?\n          <AppSetup lan={lan} list={cities} appsetup='true' name='city' /> :\n          !isAuthorized ? <Credentials\n            submit={signUp}\n            getFacs={getLocalFacs}\n            init={userInit}\n            lan={lan} pass={false}\n          /> :\n          <MainMenu lan={lan} />\n        }\n\n{/* For ADMIN/LAB/FAC/DELIVERY only Interface: */}\n        <Divider horizontal />\n      {isAuthorized && membership && membership < 128 && Object.keys(fac).length>0 &&\n          <div>\n            <Button basic color='blue'\n              as={Link}\n              disabled={!city}\n              to={'/admin/home'}\n            >\n              Hello, {_mbr[_mbr.length-1]}!\n            </Button>\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nHomePage.propType = {\n  lan: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  socket: state.settings.socket,\n  cities: state.settings.cities,\n  city: state.settings.city,\n  one_city: state.settings.one_city,\n  isAuthorized: !!state.user.token,\n  fac: state.facs,\n  user: state.user\n})\n\nexport default connect(mapStateToProps, {\n  signUp,userInit,\n  getLocalFacs,\n  setInterface,\n  getFacStore } )(HomePage)\n","import { CART_LIST, CART_CLEAR } from '../types'\nimport api from '../api'\n\nexport const addCart = order => ({\n  type: CART_LIST,\n  order\n})\n\nexport const cancelCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const clearCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const makeCart = data => dispatch => {\n  console.log('Cart Action: ',data)\n  return new Promise( (resolve, reject) => {\n    api.order.pushOrder(data).then( res => {\n      dispatch(clearCart())\n      console.log(res)\n      resolve(res.message)\n    })\n    .catch( err => {\n      reject(err.response.statusText)\n    })\n  })\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon } from 'semantic-ui-react'\n\nconst UserAdmin = ({disabled}) => {\n  return (\n    <div>\n      {!disabled?\n        <div className='user'>\n          <Link to='/user'><Icon name='user' /></Link>\n          <span>|</span>\n          <Link to='/cart'><Icon name='shopping cart' /></Link>\n        </div> :\n        <div className='user disabled'>\n          <Icon inverted={disabled} name='user' />\n          <span>|</span>\n          <Icon inverted={disabled} name='shopping cart' />\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserAdmin\n","import React, {useState} from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Icon,Confirm } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport { setInterface,setLocationFactory,cancelCart } from '../../actions/settup'\nimport { closeSocket } from '../../websocket'\nimport { clearCart } from '../../actions/cart'\nimport Sign from '../brand/sign'\nimport UserAdmin from '../ui/user/admin'\n\nconst Top = ({\n    city,fac,cities,lan,isAuthorized,\n    user,\n    setInterface,setLocationFactory,clearCart\n  }) => {\n  const state = {\n    ui: {\n      en: ['No City','? Change City','You are about to change city/zone'],\n      es: ['Ciudad','? Cambiar Ciudad','Estas por cambiar la zona/ciuda de tu orden'],\n      bg: ['ะัะฐะด','? ะกะผะตะฝะธ ะะพะฝะฐ/ะัะฐะด','ะัะธ ะฟะพัะฒััะถะดะตะฝะธะต ัะต ัะผะตะฝะธั ะณัะฐะดะฐ/ะทะพะฝะฐัะฐ']\n    }\n  }\n  const [openConfirmation,setConfirmationOpen] = useState(false)\n\n  let cty = state.ui[lan][0]\n  if(cities){\n    cities.forEach( c => {\n      if( c.id === city ) {\n        cty = c.alt? c.alt : c.title\n      }\n    })\n  }\n\n  return (\n    <div className='ui grid Top'>\n      <div className='four wide column'>\n        <Link to='/'><Icon name='home' /></Link>\n          {city &&\n            <Icon.Group>\n              <Icon color={fac.open ? 'blue' : 'grey'} name='clock' />\n            </Icon.Group>\n          }\n      </div>\n      <div className='eight wide column'>\n        <Confirm\n          header={state.ui[lan][1]}\n          content={state.ui[lan][2]}\n          open={openConfirmation}\n          onCancel={ะต => setConfirmationOpen(false)}\n          onConfirm={ e => {\n            setConfirmationOpen(false)\n            setLocationFactory({})\n            clearCart()\n            closeSocket()\n            setInterface({city: null, socket: false})\n          }}\n        />\n        <Link to='/'  onClick={ e => setConfirmationOpen(true) }>\n          <Icon color={city? 'blue' : 'grey'} name='map marker' />{cty}\n        </Link>\n      </div>\n      <div className='four wide column'>\n        <UserAdmin lan={lan} disabled={( isAuthorized && city && user.membership>64 )? false : true} />\n      </div>\n    </div>\n  )\n}\n\nTop.propType = {\n  fac: PropType.shape({\n    id: PropType.number.isRequired\n  }).isRequired\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  city: state.settings.city,\n  fac: state.facs,\n  cities: state.settings.cities,\n  isAuthorized: !!state.user.token,\n  user: state.user\n})\nexport default connect(mapStateToProps, { setInterface,setLocationFactory,clearCart })(Top)\n","import React from 'react'\nimport { Form,Button,Select,Message } from 'semantic-ui-react'\nimport Validator from 'validator'\n\nclass OrderInput extends React.Component {\n\n  state = {\n    item: {\n      id: null,\n      units: null\n    },\n    ui: {\n      en: ['Choose a ','+','Order','Invalid data','Qauntity should be a number','pizza','pi2','drink','beer','sauce'],\n      es: ['Selecione ','+','Pedir','Datos invalidos','La Cantidad es numero','pizza','pi2','gaseosa','cerveza','salsa'],\n      bg: ['ะะทะฑะตัะธ ','+','ะะพัััะฐะน','ะะตะฒะฐะปะธะดะฝะธ ะดะฐะฝะฝะธ','ะัะพัั ะฟะธัะธ ัััะฑะฒะฐ ะดะฐ ะต ัะธัะปะพ','ะฟะธัะฐ','ะฟ2','ะฑะตะทะฐะปะบะพัะพะปะฝะพ','ะฑะธัะฐ','ัะพั']\n    },\n    errors: {}\n  }\n\n  onChange = (e,{name,value}) => {\n    if(name !== 'id' && value !== '' && !Validator.isNumeric(value)) {\n      this.setState({\n        errors: {code: 4}\n      })\n    } else (\n      //value = Number(value)\n      this.setState({\n        errors: {}\n      })\n    )\n    if(name==='units' && value>5) { value = 5 }\n    if(name==='id'){\n      this.props.onItemSelect(value)\n    }\n    this.setState({\n      item: {\n        ...this.state.item, [name]: Math.abs(value)\n      }\n    })\n  }\n\n  onAdd = () => {\n    const { item } = this.state\n    this.props.onAddItem(item.id,item.units)\n    this.setState({\n      item: { id:null, units:null }\n    })\n  }\n\n  render() {\n    const { lan,onAdd,items,category } = this.props\n    const { errors,item } = this.state\n    const ui = this.state.ui[lan]\n    //const _items = items.map( (itm,indx) => ({\n    //  key:itm,\n    //  name:itm,\n    //  value:indx+1,\n    //  text:itm,\n    //  price:indx+2.5\n    //}))\n    const _invalid = Object.keys(errors).length > 0\n    const _empty = (item.id === null || item.units === null)\n    return(\n      <Form onSubmit={this.onAdd}>\n        <Form.Group>\n          <div className='ui grid'>\n            <div className='ten wide column'>\n              <Form.Select onChange={this.onChange} key={213}\n                name='id' placeholder={ui[0].concat(ui[4+category])} options={items}\n                value={item.id}\n              />\n            </div>\n            <div className='three wide column'>\n              <Form.Input onChange={this.onChange} type='number'\n                required name='units' placeholder={1}\n                value={item.units || ''}\n              />\n            </div>\n            <div className='three wide column'>\n              <Button disabled={_invalid || _empty}\n                color='blue'\n                className='add-but'\n                type='submit' content={ui[1]}\n              />\n            </div>\n          </div>\n\n            { _invalid &&\n              <div className='margined full-width'>\n                <Message negative>\n                  <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[errors.code]}</p>\n                </Message>\n              </div>\n            }\n\n        </Form.Group>\n      </Form>\n    )\n  }\n\n}\n\nexport default OrderInput\n","import React from 'react'\nimport { Button,Icon } from 'semantic-ui-react'\n\nconst OrderRow = ({stat,empty,row,onDelete,ind,lan}) => {\n  const state = {\n    list: [],\n    ui: {\n      en: ['Nothing to order yet....'],\n      es: ['Nada de ordenar....'],\n      bg: ['ะะธัะพ ะทะฐ ะฟะพัััะฒะฐะฝะต ะทะฐ ัะตะณะฐ...']\n    }\n  }\n\n  return (\n    <div>\n      {empty? state.ui[lan][0] :\n        (\n          <div className='ui grid item'>\n            <div className='two wide column nopad items'>\n              {!stat && <Icon name='eye' />}\n            </div>\n            <div className='six wide column nopad'>{row.name}</div>\n            <div className='three wide column nopad items'><Icon name='x' size='tiny' />{row.quant}</div>\n            <div className='three wide column nopad'>{(parseFloat(row.price)*parseFloat(row.quant)).toFixed(2)}</div>\n            <div className='two wide column nopad'>\n              {!stat && <span className='' basic onClick={() => onDelete(ind)}><Icon name='minus circle' /></span>}\n            </div>\n          </div>\n        )\n      }\n    </div>\n  )\n\n}\n\nexport default OrderRow\n","import React from 'react'\n\nimport OrderRow from './OrderRow'\n\nconst OrderList = ({stat,cart,lan,onDelete}) => {\n\n  return (\n    <div className={cart.length===0? 'order-list empty' : 'order-list'}>\n      {cart.map( (item,ind) => {\n        return(<OrderRow stat={stat} lan={lan} key={ind} onDelete={onDelete} row={item} ind={ind} />)\n      })}\n      {cart.length === 0 && <OrderRow empty={true} lan={lan} />}\n    </div>\n  )\n}\n\nexport default OrderList\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport OrderInput from '../../forms/OrderInput'\nimport OrderList from './OrderList'\n\nimport { addCart } from '../../../actions/cart'\n\nclass Order extends React.Component {\n  state = {\n    ui: {\n      en: ['pizza order', 'Order', 'Pizza', 'P2', 'Drink', 'Beer', 'Sauce'],\n      es: ['pedido', 'Pedido', 'Pizza', 'P2', 'Gaseosa', 'Serveza', 'Salsa'],\n      bg: ['ะฟะพัััะบะฐ','ะะพัััะฐะน', 'ะะธัะฐ', 'ะ2', 'ะะฐะฟะธัะบะฐ', 'ะะธัะฐ', 'ะกะพั']\n    },\n    order: []\n  }\n\n  onDeleteItem = ind => {\n    this.setState({\n      order: [\n        ...this.state.order.slice(0,ind),\n        ...this.state.order.slice(ind+1)\n      ]\n    })\n  }\n\n  onAddItem = (item,units) => {\n    console.log(Number(units)+ ' of ' +item)\n    let ind = this.state.order.findIndex( o => {\n      return o.product === item\n    })\n    let inx = this.props.products.findIndex( ent => {\n      return ent.id === item\n    })\n    if( ind > -1 ) {\n      this.setState({\n        order: [...this.state.order.slice(0,ind),\n          {...this.state.order[ind], quant: this.state.order[ind].quant + Number(units)},\n          ...this.state.order.slice(ind+1)\n        ]\n      })\n    } else {\n      this.setState({\n        order: this.state.order.concat({\n          product: item,\n          quant: Number(units),\n          name: this.props.products[inx].name,\n          price: this.props.products[inx].price\n        })\n      })\n    }\n  }\n\n  onOrder = e => {\n    this.props.addCart(this.state.order)\n  }\n\n  componentDidMount() {\n    const { cart } = this.props\n    console.log('OrderComponent Mount: ', cart.length);\n    if(cart.length > 0){\n      this.setState({\n        order: this.props.cart\n      })\n    }\n  }\n\n  render() {\n    let total = 0, primary_loc_id = 0, primary_loc_fac_open = 0, items, product_index\n    const { lan,products,facs,user,cart,category,itemSelected } = this.props\n\n    if(user.locations) {\n      user.locations.forEach( loc => {\n        if(loc.prime) {\n          primary_loc_fac_open = facs[loc.location].open\n          primary_loc_id = loc.location\n        }\n      })\n    }\n\n    console.log('List Products for FAC on: ', primary_loc_id, primary_loc_fac_open)\n    if(primary_loc_id>0 && primary_loc_fac_open) {\n      items = facs[primary_loc_id].products.map( (item,ind) => {\n        let i = products.findIndex( it => {\n          return it.id === item.product\n        })\n        return {\n          value: item.product,\n          text: products[i].name,\n          key: ind\n        }\n      })\n    } else {\n      items = products.map( (item,ind) => {\n        return {\n          value: item.product,\n          text: item.name,\n          key: ind\n        }\n      })\n    }\n\n    const ui = this.state.ui[lan]\n    const { order } = this.state\n\n    let sum = order.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    let ttl = ui[1].concat(' ',ui[category+1])\n\n    return (\n      <div className='custom-form'>\n        <Divider horizontal>{ttl}</Divider>\n        <OrderInput lan={lan} category={category} items={items} onAddItem={this.onAddItem} onItemSelect={itemSelected} />\n        <OrderList stat={false} lan={lan} cart={order} onDelete={this.onDeleteItem} />\n        <Divider horizontal>&#9675;</Divider>\n        <Button\n          as={Link} to='/cart'\n          width={8}\n          disabled={this.state.order.length === 0}\n          color='orange'\n          className='submit-but'\n          content={ui[1].concat(': ', total.toString())}\n          onClick={this.onOrder}\n        />\n      </div>\n    )\n  }\n}\n\nOrder.propTypes = {\n  cart: PropType.array.isRequired\n}\n\nconst mapStateToProps = state => ({\n  facs: state.facs,\n  cart: state.cart,\n  order: state.order,\n  user: state.user\n})\nexport default connect(mapStateToProps, {addCart})(Order)\n","import React from 'react'\n\nconst Product = ({ entry,mode }) => {\n  let IMAGE_FOLDER = ['pizza','pi2','drinks','pivo','sauce']\n  const style = {\n    backgroundImage: `url(img/${IMAGE_FOLDER[entry.category-1]}/${entry.list}.png)`,\n    backgroundSize: 'cover'\n  }\n  let dscr = entry.dscr.split(',').join(', ')\n  return (\n    <div className={mode==='ver'? 'item' : 'product'} style={style}>\n      <span>{entry.name}</span>\n        <span\n          style={{\n              maxWidth: '380px',\n              display: 'flex',\n              color: 'white',\n              overflowX: 'hidden',\n              backgroundColor: 'rgba(180,90,0,.5)'\n            }}>\n          {dscr}\n        </span>\n    </div>\n  )\n}\n\nexport default Product\n","import React from 'react'\n\nimport Product from './'\n\nconst ProductsList = ({products,category,view,onOrder,item}) => {\n  let l, i, style\n  l = view==='hor'? (products.length + 1)*100 : 100\n  i = products.findIndex( p => p.id === item)\n  style = view==='hor'?\n    {\n      minWidth: `${l}vw`,\n      left: `-${(i+1)*97.5}vw`\n    } :\n    {}\n\n  let icons = ['pi','pi2','soft','pivo','sauce','premium']\n\n    return (\n      <div className={view==='hor'? 'product-wraper' : null}>\n        <div className={view==='hor'? 'product-list' : 'catalog'} style={style}>\n          <ul>\n            { view==='hor'? <li>\n              <div className={('product').concat(' ', icons[category-1])}></div>\n              </li> : <li>\n                --- MENU ---\n              </li>\n            }\n            { products.map( item => {\n                return <li><Product mode={view} entry={item} onOrder={onOrder} /></li>\n              })\n            }\n          </ul>\n        </div>\n      </div>\n    )\n\n}\n\nexport default ProductsList\n","import React from 'react'\r\nimport PropType from 'prop-types'\r\nimport {Icon} from 'semantic-ui-react'\r\n\r\nconst MenuList = ({lan,category,onCategory,cats}) => {\r\n  const ui = {\r\n    bg: ['ะฟะธัะฐ','ฯยฒ','ะฝะฐะฟะธัะบะฐ','ะฑะธัะฐ','ัะพั'],\r\n    en:['pizza','ฯยฒ','drinks','beer','sauce'],\r\n    es:['pizza','ฯยฒ','drinks','beer','salsa'],\r\n    icon:['ฯ','ฯยฒ','tint','beer','fire']\r\n  }\r\n\r\n  let c = []\r\n\r\n  for(let i=1; i<6; i++) {\r\n    if(cats.includes( i )){ c.push(i) }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"menu-prod\">\r\n        {\r\n          c.map( itm => {\r\n            let cl = ( itm === category )? 'active' : ''\r\n            return (\r\n              <li className={ (itm < 3)? cl.concat(' ','pee') : cl }\r\n                onClick={ e => {\r\n                    if(itm !== category){\r\n                      onCategory(itm)\r\n                    }\r\n                  }}>\r\n                {(itm < 3)? ui.icon[itm-1] :\r\n                  <Icon name={ui.icon[itm-1]} size='large' />\r\n                }\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenuList\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider } from 'semantic-ui-react'\nimport Order from '../ui/order/Order'\nimport ProductsList from './product/ProductsList'\nimport MenuList from '../ui/menus/categories'\n\nimport { fireSocket } from '../../websocket'\n\n\nclass OrdersPage extends React.Component {\n  state = {\n    category: 1,\n    item: 0\n  }\n\n  onCategory = cat => {\n    this.setState({\n      category: cat,\n      item: 0\n    })\n  }\n\n  onItemSelected = value => {\n    this.setState({\n      item: value\n    })\n    this.fire()\n  }\n\n  //componentDidMount = () => {\n  //  const { uid,membership } = this.props.user\n  //  const { facs } = this.props\n  //}\n  //componentWillUnmount() {\n  //  closeSocket()\n  //}\n\n  fire = () => {\n    const { uid,membership } = this.props.user\n    const { facs } = this.props\n    console.log('UTF8: ',uid,membership,facs.id)\n    fireSocket(null,JSON.stringify({ user: uid, role: membership, fac: facs.id, order: true }))\n  }\n\n  render(){\n    const { lan,city,products,facs } = this.props\n    const { category,item } = this.state\n\n    let l = facs.products\n    .map( entry => {\n      let p = products.find( i => i.id === entry.product )\n      return Object.assign(entry,p)\n    })\n\n    let cat_list = l.map( i => i.category)\n\n    let list = l.filter( p => p.category === category )\n\n// ProductList.view - hor, ver\n    return(\n      <div className='App-content topped padded'>\n        <ProductsList view='hor' products={list} category={category} item={item} facs={facs} />\n        <MenuList lan={lan} cats={cat_list} category={category} onCategory={this.onCategory} />\n        <Order products={list} category={category} stat={false} itemSelected={this.onItemSelected} lan={lan} />\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  facs: state.facs,\n  city: state.settings.city,\n  user: state.user,\n  products: state.products\n})\n\nexport default connect(mapStateToProps)(OrdersPage)\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropType from 'prop-types'\r\n\r\nimport ProductsList from './product/ProductsList'\r\n\r\nclass Catalog extends React.Component {\r\n  state = {\r\n    q: 0,\r\n    category: 1\r\n  }\r\n\r\n  onOrder = item => {\r\n    console.log(item)\r\n  }\r\n\r\n  render() {\r\n    const { lan,city,products,facs } = this.props\r\n    const { category } = this.state\r\n    const fli = facs.findIndex( f => f[city].city === city )\r\n\r\n    let l = facs[fli][city].products\r\n    .map( p => {\r\n      let prod = products.find( i => i.id === p.product )\r\n      return Object.assign(p,prod)\r\n    })\r\n    let list = l.filter( p => p.category === category )\r\n\r\n\r\n    return (\r\n      <div className='App-content topped padded'>\r\n        <ProductsList view='ver' onOrder={this.onOrder} products={list} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCatalog.propType = {\r\n  products: PropType.array.isRequired,\r\n  city: PropType.number.isRequired,\r\n  facs: PropType.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.products,\r\n  facs: state.facs,\r\n  city: state.settings.city,\r\n  lan: state.settings.lan\r\n})\r\n\r\nexport default connect(mapStateToProps)(Catalog)\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst UserRoute = ({ isAuth, lan, component: Component, ...rest }) => {\n  console.log(isAuth)\n  return (\n    <Route {...rest} render={props => isAuth? <Component lan={lan} {...props} /> : <Redirect to='/' />} />\n  )\n}\n\nUserRoute.propTypes = {\n  component: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  isAuth: !!state.user.token\n})\n\nexport default connect(mapStateToProps)(UserRoute)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst AdminRoute = ({isAdmin, membership, lan, component: Component, ...rest}) => {\n  console.log('Log Admin as: ', membership)\n\n  return (\n    <Route {...rest} render={ props => (isAdmin || membership<128) ?\n        <Component lan={lan} {...props} /> :\n        <Redirect to='/admin' />\n  }/>)\n}\n\nAdminRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  isAdmin: PropTypes.bool.isRequired,\n  //user: PropTypes.shape({\n  //  membership: PropTypes.number.isRequired\n  //}).isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  isAdmin: state.user.membership === 1,\n  membership: state.user.membership\n})\n\nexport default connect(mapStateToProps)(AdminRoute)\n","import React from 'react'\r\nimport { Grid,Icon } from 'semantic-ui-react'\r\n\r\nconst CollectionTable =\r\n({lan,data,membership}) => {\r\n  const state = {\r\n    table: {\r\n      en: ['order #','at','door','for'],\r\n      es: ['order #','de','domic.','para'],\r\n      bg: ['ะฟะพัััะบะฐ #','ะพั','ะดะพัั.','ะทะฐ']\r\n    },\r\n    ui: {\r\n      en: ['no','yes'],\r\n      es: ['no','si'],\r\n      bg: ['ะฝะต','ะดะฐ']\r\n    },\r\n  }\r\n  let tabs = state.table[lan]\r\n  let ui = state.ui[lan]\r\n  return (\r\n        <Grid celled>\r\n          <Grid.Row>\r\n            <Grid.Column width={8}>{tabs[0]}</Grid.Column>\r\n            <Grid.Column width={4}><Icon name='clock' /></Grid.Column>\r\n            <Grid.Column width={4}><Icon name='clock outline' /></Grid.Column>\r\n          </Grid.Row>\r\n          {data.map( e => {\r\n            let ordered = new Date(e.ordered_at)\r\n            let pickup = new Date(e.pick_up_time)\r\n            return (\r\n              <Grid.Row>\r\n                <Grid.Column width={8}>{e.id}</Grid.Column>\r\n              <Grid.Column width={4}>{e.ordered_at? `${ordered.getHours()}:${ordered.getMinutes()}`: '--'}</Grid.Column>\r\n            <Grid.Column width={4}>{e.pick_up_time? `${pickup.getHours()}:${pickup.getMinutes()}`: '--'}</Grid.Column>\r\n              </Grid.Row>\r\n            )\r\n          })}\r\n\r\n        </Grid>\r\n  )\r\n}\r\n\r\nexport default CollectionTable\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button,Divider,Table } from 'semantic-ui-react'\r\n\r\nimport { setInterface } from '../../../../actions/settup'\r\nimport { getOrders } from '../../../../actions/order'\r\nimport { subscribeSocket,fireSocket,initSocket } from '../../../../websocket'\r\n\r\nimport CollectionTable from '../../../ui/order/CollectionTable'\r\n\r\nconst BakerHome = ({uid,lan,fac,membership,socket,getOrders}) => {\r\n\r\n  const state={\r\n    ui: {\r\n      en:['Bakery: ','Open Session'],\r\n      es:['Panaderรญa: ','Iniciar sesiรณn'],\r\n      bg:['ะะตะบะฐัะฝะฐ: ','ะัะฒะพัะธ ะกะตัะธั']\r\n    }\r\n  }\r\n\r\n  const [ data, setData ] = useState([])\r\n\r\n  const fetchOrders = () => {\r\n    getOrders(fac.id)\r\n    .then( data => setData(data) )\r\n    .catch( err => console.log(err.message) )\r\n  }\r\n\r\n  return (\r\n      <div className='init padded oval-but'>\r\n        <Divider horizontal>{`${state.ui[lan][0]}${fac.name}`}</Divider>\r\n      {/* Incoming Orders Table */}\r\n        <CollectionTable data={data} member={membership} lan={lan} />\r\n      {/* =============================================================== */}\r\n        <Button fluid\r\n          color='blue'\r\n          content={state.ui[lan][1]}\r\n          onClick={e => {\r\n            console.log('Baker Call API: fetchOrders')\r\n            fetchOrders()\r\n            //initSocket(uid,membership,fac.id)\r\n            //subscribeSocket(setInterface)\r\n            //fireSocket(null,JSON.stringify({ user: uid, role: membership, fac: fac.id }))\r\n          }} />\r\n      </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  uid: state.user.uid,\r\n  socket: state.settings.socket,\r\n  lan: state.settings.lan,\r\n  membership: state.user.membership,\r\n  fac: state.facs\r\n})\r\n\r\nexport default connect(mapStateToProps,{ getOrders })(BakerHome)\r\n","import { ORDER_LIST, ORDER_CLEAR } from '../types'\nimport api from '../api'\n\nexport const addOrder = order => ({\n  type: ORDER_LIST,\n  order\n})\n\nexport const cancelOrder = () => ({\n  type: ORDER_CLEAR\n})\n\nexport const clearOrderList = () => ({\n  type: ORDER_CLEAR\n})\n\nexport const getOrders = id => dispatch => {\n  return new Promise ( (resolve,reject) => {\n    api.order.collection(id)\n    .then( ({data}) => {\n      resolve(data)\n    } )\n    .catch( err => reject(err) )\n  })\n}\n\n//export const makeOrder = data => dispatch => {\n//  api.order.addOrder(data).then(res => dispatch( clearOrderList()))\n//}\n","import React from 'react'\r\n\r\nconst AllAdminHome = props => {\r\n  console.log(props)\r\n  return (\r\n    <div>\r\n      Welcome to Home,\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AllAdminHome\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button,Divider } from 'semantic-ui-react'\r\nimport { Route,Switch,Link } from 'react-router-dom'\r\n\r\nimport BakerHome from './fac/BakerHome'\r\nimport AllAdminHome from './AllHome'\r\n\r\nimport { subscribeSocket,fireSocket,initSocket } from '../../../websocket'\r\n\r\nconst RoleHome = ({uid,lan,fac,membership,...rest}) => {\r\n  //initSocket(uid,membership,fac.id)\r\n  //subscribeSocket()\r\n  const state={\r\n    ui: {\r\n      en:['Bakery: ','Open Session','home','lab','fac','baker','delivery','logout'],\r\n      es:['Panaderรญa: ','Iniciar sesiรณn','home','lab','fac','baker','delivery','logout'],\r\n      bg:['ะะตะบะฐัะฝะฐ: ','ะัะฒะพัะธ ะกะตัะธั','home','lab','fac','baker','delivery','logout']\r\n    }\r\n  }\r\n\r\n  const { url,path } = rest.match\r\n  //let id = Number(locations[match.params.id].id)\r\n  let _path = path.split('/').reverse()[0]\r\nconsole.log('Role: ', _path, membership)\r\n  return (\r\n    <div className='App-content topped padded'>\r\n      <div className='menu-bar dobletopped'>\r\n        <Button.Group color='grey'>\r\n          <Button as={Link} to={url} icon='home'/>\r\n          {membership === 2 &&\r\n            <Button as={Link} to={`${url}/${state.ui[lan][3]}`} content={state.ui[lan][3]}/>}\r\n          {membership === (4 || 12) &&\r\n            <Button as={Link} to={`${url}/${state.ui[lan][4]}`} content={state.ui[lan][4]} />}\r\n          {membership === (8 || 12) &&\r\n            <Button as={Link} to={`${url}/${state.ui[lan][5]}`} content={state.ui[lan][5]} />}\r\n          {membership === 32 &&\r\n            <Button as={Link} to={`${url}/${state.ui[lan][6]}`} content={state.ui[lan][6]} />}\r\n          <Button as={Link} to={rest.match.url} icon='undo' content={state.ui[lan][7]} />\r\n        </Button.Group>\r\n      </div>\r\n      <Switch>\r\n        <Route path={`${rest.match.url}/baker`} component={BakerHome}/>\r\n        <Route path={`${rest.match.url}/fac`} component={AllAdminHome}/>\r\n        <Route path={`${rest.match.url}/lab`} component={AllAdminHome}/>\r\n        <Route path={`${rest.match.url}/dlvr`} component={AllAdminHome}/>\r\n\r\n      </Switch>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  uid: state.user.uid,\r\n  membership: state.user.membership,\r\n  fac: state.facs\r\n})\r\n\r\nexport default connect(mapStateToProps)(RoleHome)\r\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','No haz jugado hoy!','No haz comido hoy!','Nada para repetir...'],\n      en: ['Repeat this:','You\\'ve played 0 Games today!','You haven\\'t eaten today!','Nothing to repeat...'],\n      bg: [ 'ะะพะฒัะพัะธ: ','ะะต ัะธ ะธะณัะฐะป ะดะฝะตั!','ะะต ัะธ ัะป ะดะฝะตั!','ะะธัะพ ะทะฐ ะฟะพะฒัะฐััะฝะต...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[2]}</Message.Header>\n            <p>{ui[3]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form, Button } from 'semantic-ui-react'\n\nimport Credentials from '../../forms/credentials'\n\nconst AdminLogin = ({lan,pass,login}) => {\n  return (\n    <div className='App-content padded Admin-Page'>\n      <Credentials submit={login} lan={lan} pass={true} />\n    </div>\n  )\n}\n\nexport default AdminLogin\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','Por ahora no hay juegos','Vuelva pronto...'],\n      en: ['Play Home','No Games to play yet','Come back soon...'],\n      bg: ['ะะณัะธ','ะัะผะฐ ะธะณัะธ ะทะฐ ัะตะณะฐ','ะัะพะฒะตัะธ ะพัะฝะพะฒะพ ัะบะพัะพ...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[1]}</Message.Header>\n            <p>{ui[2]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon,Checkbox } from 'semantic-ui-react'\n\nconst LocationRow = ({ind,prime,lan,view,row,stat,edit,locClick,current}) => {\n  console.log('ULocation row: ',current,row.location,row.prime)\n  const addstyle = row.prime? ' selected-row' : ''\n  return (\n    <div className={'ui grid item'+addstyle}>\n      <div className='two wide column nopad items'>\n        {!stat && prime? <Icon name='pin' /> : ''}\n        {stat && view==='select' &&\n          <Checkbox\n            checked={current===row.location || !!row.prime&&current===0}//\n            onChange={()=>locClick(row.location)}\n          />}\n      </div>\n      <div className='eight wide column nopad'>{row.street}</div>\n      <div className='two wide column nopad'>{row.number||row.location}</div>\n      <div className='two wide column nopad'>\n        {!stat && <span basic onClick={null}><Icon color='red' name='minus circle' /></span>}\n      </div>\n      <div className='two wide column nopad'>\n        {edit && <Link to={'/user/location/'+ind}><Icon color='blue' name='pencil' /></Link>}\n      </div>\n    </div>\n  )\n}\n\nexport default LocationRow\n","import React from 'react'\nimport { Button,Icon,Message } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport LocationRow from './LocRow'\n\nconst UserLocations = ({stat,view,lan,list,city,onLocation,current,disabled,fac}) => {\n  const ui = {\n    en: ['No Locations','Address','ะะตะท ะดะพััะฐะฒะบะฐ!'],\n    es: ['No tienes Direcciรณn','Direcciรณn','ะะตะท ะดะพััะฐะฒะบะฐ!'],\n    bg: ['ะัะผะฐั ะะดัะตั!','ะะดัะตั','ะะตะท ะดะพััะฐะฒะบะฐ!'],\n    error: {\n      en: ['No Delivery Service!','Your Location has no Delivery Service! Take your pedido from: '],\n      es: ['Sin Domcilio!','Esta localidad no tiene servicio a Domicilio. Recibe su pedido a la direcciรณn: '],\n      bg: ['ะะตะท ะดะพััะฐะฒะบะฐ!','ะขะพะทะธ ัะฐะนะพะฝ ะต ะฑะตะท ะดะพััะฐะฒะบะธ. ะะทะตะผะธ ัะฒะพััะฐ ะฟะพัััะบะฐ ะพั ะฐะดัะตั: ']\n    }\n  }\n  return (\n    <div className={(!list || list.length === 0)? 'order-list empty' : 'order-list'}>\n  {/* No Delivery Message:*/}\n      {disabled && <Message negative>\n        <Message.Header>{ui.error[lan][0]}</Message.Header>\n      <p>{ui.error[lan][1]}</p>\n        <b>{`'${fac.street}', ${fac.number}`}</b>\n      </Message>}\n  {/*Check if User has Locations:*/}\n      {(!disabled && (!list || list.length === 0)) ?\n        <div>\n          <div>{ui[lan][0]}</div><br/>\n          <div className='oval-but'><Button as={Link} to='../user/locations' color='red' icon='warning sign' content={ui[lan][1]} /></div>\n        </div> :\n        <div>\n          {list.forEach( (entry,ind) => {\n            if(entry.city === city) {\n              return <LocationRow\n                  key={ind}\n                  ind={ind}\n                  prime={entry.prime}\n                  current={current}\n                  locClick={onLocation}\n                  lan={lan}\n                  row={entry}\n                  view={view}\n                  edit={true}\n                  stat={stat}\n                />\n            }\n            })\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserLocations\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\nimport OrderList from '../ui/order/OrderList'\nimport UserLocationsList from '../ui/user/UserLocationsList'\nimport { getLocationData } from '../../actions/user'\nimport { cancelCart,makeCart } from '../../actions/cart'\n//import socket from '../../websocket'\n\nclass CartPage extends React.Component {\n  state = {\n    ui: {\n      en:['Order','Where to:','Order:','Cancel','Add','You must give us a location!',\n      'Oreder recieved','Tu Pick up', 'Or', 'Success', 'Error'],\n      es:['Orden','Para donde:','Pedir','Cancelar','Mรกs','Necesitamos direcciรณn de entrega!',\n      'Pedido recibido','Para recojer', 'O', 'Exitoso', 'Error'],\n      bg:['ะะพัััะบะฐ','ะะฐ ะบัะดะต:','ะะพัััะฐะน','ะัะบะฐะถะธ','ะัะต','ะขััะฑะฒะฐ ะฝะธ ะฐะดัะตั ะฝะฐ ะดะพััะฐะฒะบะฐ!',\n      'ะะพัััะบะฐัะฐ ะต ะฟัะธะตัะฐ','ะะฐ ะะทะตะผะฐะฝะต', 'ะะปะธ', 'ะงะตััะธัะพ!', '!ะัะตัะบะฐ!']\n    },\n    currentLocation: 0,\n    delivery: 1,\n    message: {}\n  }\n\n  onLocationSlected = l => {\n    console.log(l)\n    this.setState({\n      currentLocation: l,\n      message: {}\n    })\n  }\n\n  componentDidMount() {\n    const { locations } = this.props.user\n    const { fac,getLocationData } = this.props\n    if(fac.delivery === 4) {this.setState({delivery: 0})}\n    if(!locations || locations.length === 0) return\n    locations.forEach( (entry,ind) => {\n      getLocationData(entry.location,ind)\n    })\n    //socket.send('Cart Component did mount')\n  }\n\n  onOrder = e => {\n    let prime = 0, defLoc\n    const {user,cart,lan,fac} = this.props\n    const {currentLocation,message,delivery} = this.state\n// Sum Total to Pay:\n    let sum = cart.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n    let total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n\n    if(!delivery){\n      this.props.makeCart({user_location: null, cart: cart, delivery: delivery, fac_id:fac.id, total: total})\n        .then( msg => this.setState({ message: {stat: msg} }) )\n        .catch( err => this.setState({ message: {err} }) )\n    } else {\n      user.locations.forEach( l => {\n        if(l.prime && l.prime !== 0){\n          prime = l.id\n          console.log('Deliver ',prime)\n        }\n      })\n      if(!prime&&!currentLocation){\n        this.setState({\n          message: {stat: this.state.ui[lan][5]}\n        })\n        return\n      }\n      defLoc = currentLocation!==0? currentLocation : prime\n      this.props.makeCart({user_location: defLoc, cart: cart, delivery: delivery, fac_id: fac.id, total: total})\n        .then( msg => this.setState({ message: {stat: msg} }) )\n        .catch( err => this.setState({ message: {err} }) )\n    }\n\n\n    //.catch(err => console.log(err))\n    //console.log('Deliver this: ' + order.length + ', there:' + delLoc)\n  }\n\n  render() {\n    let prime = 0, total = 0\n    const { user,cart,lan,city,fac } = this.props\n    const { currentLocation,message,delivery } = this.state\n    const ui = this.state.ui[lan]\n    if(user.locations){\n      user.locations.forEach( l => {\n        if(l.prime !== 0){\n          prime = l.id\n        }\n      })\n    }\n\n    let sum = cart.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    console.log(sum,cart)\n\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[1]}</Divider>\n    {/*Check if No Delivery of User has Locations:*/}\n        {(user.locations || fac.delivery === 4 )?\n          <UserLocationsList\n            view='select'\n            stat={true}\n            disabled={fac.delivery === 4}\n            current={currentLocation}\n            onLocation={this.onLocationSlected}\n            list={user.locations? user.locations.filter( l => l.city === city) : []}\n            city={city}\n            lan={lan}\n            fac={fac}\n          /> :\n          <div><Button as={Link} to='../user/locations' color='red' icon='warning sign' content={ui[1]} /></div>\n        }\n        {Object.keys(message).length>0 && !!delivery && <Message negative content={message.stat} />}\n        {fac.delivery !== 4 && <Divider horizontal>{ui[8]}</Divider>}\n        {fac.delivery !== 4 && <div className='oval-but'>\n          <Button fluid content={ui[7]} icon='hand paper' color='blue'/>\n        </div>}\n        <Divider horizontal>{ui[0]}</Divider>\n        {Object.keys(message).length>0?\n          <Message positive={message.stat} negative={message.error}>\n            <Message.Header>{message.stat? ui[9] : ui[10]}</Message.Header>\n              <p>{message.stat? message.stat : message.err}</p>\n          </Message> :\n          <OrderList stat={true} cart={cart} lan={lan} />\n        }\n        <Divider horizontal>&#9675;</Divider>\n        {<div className='menu-bar'>\n          <Button.Group>\n            <Button color='grey' onClick={this.props.cancelCart} as={Link} to='/' content={ui[3]}/>\n            <Button\n              name='submit'\n              disabled={total===0 || (!user.locations && fac.delivery !== 4)}\n              color='orange'\n              onClick={this.onOrder}\n              content={ui[2].concat(' ',total.toString())}\n            />\n            <Button color='grey' as={Link} to='/order' icon='plus' content={ui[4]} />\n          </Button.Group>\n        </div>}\n      </div>\n    )\n  }\n}\n\nCartPage.propType = {\n  lan: PropType.string.isRequired,\n  user: PropType.shape({\n    uid: PropType.number.isRequired\n  }),\n  cart: PropType.array.isRequired,\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  user: state.user,\n  fac: state.facs,\n  cart: state.cart,\n  city: state.settings.city\n})\nexport default connect(mapStateToProps,{ getLocationData,cancelCart,makeCart })(CartPage)\n","import React from 'react'\r\n\r\nconst UserPerksList = ({ has_perks,new_user,perks }) => {\r\n  return (\r\n    <div>\r\n      You have {(has_perks || new_user) ? perks.length : 'No'} Perks\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserPerksList\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport PropType from 'prop-types'\nimport { Divider,Button,Icon } from 'semantic-ui-react'\nimport UserLocationsList from '../ui/user/UserLocationsList'\nimport UserPerksList from '../ui/user/UserPerksList'\nimport { getLocationData } from '../../actions/user'\n\nclass UserPage extends React.Component {\n\n  state = {\n    ui: {\n      en: ['Your Locations:','New','Edit','Your Perks:'],\n      es: ['Tus direciones:','Nueva','Editar','Tus obsequios:'],\n      bg: ['ะขะฒะพะธัะต ะะดัะตัะธ:','ะะดัะตั','ะัะพะผะตะฝะธ','ะขะฒะพะธัะต ะฝะฐะณัะฐะดะธ:']\n    }\n  }\n\n  componentDidMount() {\n    const { locations } = this.props\n    if(!locations || locations.length === 0) return\n    //this.props.getLocationData(3)\n    this.getLocData(locations)\n  }\n\n  componentDidUpdate(prevProps) {\n    const { locations } = this.props\n    if(!locations) return\n    //this.props.getLocationData(3)\n    if(!prevProps.locations || prevProps.locations.length !== locations.length){\n      this.getLocData(locations)\n    }\n  }\n\n  getLocData = l => {\n    l.forEach( (entry,ind) => {\n      this.props.getLocationData(entry.location,ind)\n    })\n  }\n\n  render() {\n    const {lan,user,locations,free_pizza,city,fac} = this.props\n    const ui = this.state.ui[lan]\n    let listLocations = locations ? locations.filter( l => l.city===city ) : []\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n      <UserLocationsList disabled={fac.delivery === 4} view='list' stat={false} fac={fac} list={listLocations} lan={lan} />\n        {(fac.delivery !== 4 || listLocations.length !== 0) && <Divider horizontal>&#9675;</Divider>}\n        {(fac.delivery !== 4 || listLocations.length !== 0) && <div className='row centered menu-bar'>\n          <Button.Group color='grey' widths='2'>\n            <Button as={Link} to='/' icon='home' />\n            <Button disabled={fac.delivery === 4} as={Link} to='/user/locations' icon='plus' content={ui[1]} />\n          </Button.Group>\n        </div>}\n        <Divider horizontal>{ui[3]}</Divider>\n        <UserPerksList has_perks={free_pizza} new_user={user.new_user} />\n      </div>\n    )\n  }\n}\n\nUserPage.propType = {\n  lan: PropType.number.isRequired,\n  city: PropType.number.isRequired,\n  facs: PropType.shape({\n    delivery: PropType.number.isRequired\n  }).isRequired,\n  user: PropType.shape({\n    locations: PropType.array.isRequired,\n    free_pizza: PropType.bool.isRequired\n  }).isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  fac: state.facs,\n  user: state.user\n})\n\nexport default connect(mapStateToProps,{ getLocationData })(UserPage)\n","import React from 'react'\nimport _ from 'lodash'\nimport { Search, Button } from 'semantic-ui-react'\n\nexport default class UserLocation extends React.Component {\n  state = {\n    isLoading: false,\n    data: {},\n    value: null\n  }\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    const {title,id} = result\n    const { getInput,getNumbers,onNewData } = this.props\n    if(name==='street') {getNumbers('location',id)}\n    this.setState({\n      ...this.state,\n      value: title,\n      data: {...this.state.data, [name]: id}\n    })\n    if(name==='location'){onNewData({[name]: id})}\n    getInput(title,name)\n  }\n\n  handleSearchChange = (e, { value,name }) => {\n    this.setState({ isLoading: true, value })\n    const { list,getInput } = this.props\n\n    setTimeout(() => {\n      if (this.state.value.toString().length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title.toString())\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(list, isMatch)\n      })\n    }, 300)\n\n    getInput(value,name)\n  }\n\n  render() {\n    const { isLoading,value,results } = this.state\n    const { name,list } = this.props\n    return (\n      <div>\n        <div className={name==='street'? 'full-width' : 'short'}>\n          <Search\n            name={name}\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            results={results}\n            value={value}\n            {...this.props}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form } from 'semantic-ui-react'\n\nexport default class UserLocationList extends React.Component {\n  state = {\n    data: {},\n    ui: {\n      en: ['number'],\n      es: ['numero'],\n      bg: ['ะฝะพะผะตั']\n    }\n  }\n\n  onChange = (e, {name,value,key}) => {\n   this.setState({\n     data: {...this.state.data, [name]: Number(value)}\n   })\n   const {list} = this.props\n   this.props.onNewData({[name]: Number(value)})\n   const ind = list.findIndex( e => {\n     return e.id === value\n   })\n   this.props.getInput(list[ind].title,name)\n  }\n\n  render() {\n    const { value,ui } = this.state\n    const { name,list,lan } = this.props\n    let options\n    if(list){\n      options = list.map( (entry,ind) => ({\n          key: ind+1,\n          value: entry.id,\n          text: entry.title\n        })\n      )\n    }\n\n    return (\n      <div className='short'>\n        <Form.Select onChange={this.onChange}\n          name={name} placeholder={ui[0]} options={options}\n          value={this.state.data[name] || ''}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form,Button,Message,Checkbox } from 'semantic-ui-react'\n\nexport default class UserDoor extends React.Component {\n  state = {\n    ui: {\n      en: ['floor','door','entry','bell','mobile','myHome, theOffice,...','Name it like:','Primary'],\n      es: ['piso','puerta','entrada','timbre','mobile','miCasa, LaOficina,...','Ponle nombre:','Principal'],\n      bg: ['ะตัะฐะถ','ะฒัะฐัะฐ','ะฒัะพะด','ะทะฒัะฝะตั','ะผะพะฑะธะปะตะฝ','ัะะฐั, ะพัะธัะฐ, ะฟัะธะะฐะผะฐ,...','ะะผะตะฝัะฒะฐะน ะะดัะตัะฐ:','ะัะฝะพะฒะตะฝ']\n    },\n    valid: true,\n    empty: true,\n    data: {},\n  }\n\n  componentDidMount() {\n    if(this.props.edit){\n      this.setState({\n      data: {...this.state.data, prime: this.props.loc.prime}\n    })}\n  }\n\n  onChange = (e,{name,value}) => {\n    let v\n    if(name === 'entry' || 'bell'){\n      v = isNaN(value)? value : Number(value)\n    }\n    this.setState({\n      data: {...this.state.data, [name]: name==='entry'||'bell'? v :  Number(value)}\n    })\n    if(this.props.edit){\n      this.props.onInput(name, name==='entry'||'bell'? v : Number(value))\n    } else {\n      this.props.addData({[name]: name==='entry'||'bell'? v : Number(value)})\n    }\n  }\n\n  onCheckBox = (e, {name}) => {\n    this.props.onInput(name, this.state.data[name]? Number(!this.state.data[name]) : 1)\n    this.setState({\n      data: {...this.state.data, [name]: this.state.data[name]? !this.state.data[name] : true}\n    })\n  }\n\n  onClear = e => {\n    e.preventDefault()\n    this.setState({\n      data: {}\n    })\n  }\n\n  render() {\n    const {lan,edit,loc} = this.props\n    const ui = this.state.ui[lan]\n    const { valid,empty,data } = this.state\n    return (\n        <Form>\n          <Form.Group>\n            <div className='ui grid'>\n\n              <div className=\"row\">\n                <div className='eight wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='bell' placeholder={edit && loc.bell? ui[3].concat(': ',loc.bell) : ui[3]}\n                    value={data.bell || ''}\n                  />\n                </div>\n                <div className='seven wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='mobile' placeholder={edit && loc.mobile? loc.mobile : ui[4]}\n                    value={data.mobile || ''}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='floor' placeholder={edit && loc.floor? loc.floor.toString().concat(' ',ui[0]) : ui[0]}\n                    value={data.floor || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='door' placeholder={edit && loc.door? loc.door.toString().concat(' ',ui[1]) : ui[1]}\n                    value={data.door || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    name='entry' placeholder={edit && loc.entry? loc.entry.toString().concat(' ', ui[2]) : ui[2]}\n                    value={data.entry || ''}\n                  />\n                </div>\n                {!edit && <div className='tree wide column'>\n                  <Button\n                    className='add-but'\n                    icon='ban'\n                    onClick={this.onClear}\n                  />\n                </div>}\n              </div>\n\n              {edit &&\n                  <div className='row'>\n                    <div className='eight wide column rect'>\n                      <Form.Input onChange={this.onChange}\n                        label={ui[6]}\n                        name='name' placeholder={loc.name? loc.name : ui[5]}\n                        value={data.name || ''}\n                      />\n                    </div>\n                    <div className='seven wide column rect'>\n                      <Checkbox\n                        label={ui[7]}\n                        name='prime'\n                        checked={data.prime||loc.prime}\n                        onClick={this.onCheckBox}\n                      />\n                    </div>\n                  </div>\n              }\n\n            </div>\n\n              { !valid &&\n                <div className='margined full-width'>\n                  <Message negative>\n                    <Message.Header>{ui[3]}</Message.Header>\n                    <p>{1}</p>\n                  </Message>\n                </div>\n              }\n\n          </Form.Group>\n        </Form>\n    )\n  }\n}\n","import React from 'react'\nimport { Input } from 'semantic-ui-react'\n\nclass ReferenceInput extends React.Component {\n  state = {\n    ui: {\n      en: ['8 string reference...','Reference:'],\n      es: ['8 signos...','Referencia:'],\n      bg: ['8 ะทะฝะฐะบะฐ ะบะพะด...','ะะตัะตัะตะฝัะธั:']\n    },\n    uid: ''\n  }\n\n  onChange = e => {\n    this.setState({\n      uid: e.target.value\n    })\n  }\n\n  onClick = () => {\n    if(this.state.uid !== ''){ this.props.onRef(this.state.uid) }\n  }\n\n  render() {\n    let ui = this.state.ui[this.props.lan]\n    return (\n      <Input\n        action={{\n          color: 'teal',\n          labelPosition: 'left',\n          icon: 'key',\n          content: `${ui[1]}`,\n          onClick: this.onClick\n        }}\n        name='uid'\n        onChange={this.onChange}\n        actionPosition='left'\n        placeholder={ui[0]}\n      />\n    )\n  }\n}\n\nexport default ReferenceInput\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport _ from 'lodash'\nimport { Divider,Button,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport { getLocations,checkReference } from '../../actions/settup'\nimport { addUserLocation,userAddLocation } from '../../actions/user'\n\nimport UserLocation from '../forms/ulocation'\nimport UserLocationNumber from '../forms/LocationNumbersList'\nimport UserDoor from '../forms/userDoor'\nimport LocationRow from '../ui/user/LocRow'\nimport ReferenceInput from '../forms/RefInput'\n\nclass UserLocationsPage extends React.Component {\n  state = {\n    ui: {\nen: ['Delivery Location','Your Street in, ','Your Number:','Save','No service on that location',\n    'We\\'ve got you! Just open the... which door:','Have a reference..?','No ref','No such reference'\n    ],\nes: ['Direccion de entrega','Calle-ะพ-Carrera en, ','Tu Numero:','Guardar','No hay servicio en esta direccion',\n    'Lo ubicamos! Solo abrenos la... que puerta:','Tienes referencia..?','No tengo','No such reference'\n    ],\nbg: ['ะะดัะตั ะทะฐ ะดะพััะฐะฒะบะฐ','ะขะฒะพััะฐ ัะปะธัะฐ ะฒัะฒ, ','ะะพะผะตั:', 'ะะฐะฟะฐะทะธ','ะะต ะพะฑัะปัะถะฒะฐะผะต ัะพะทะธ ะฐะดัะตั',\n    'ะขัะบ ัะผะต! ะกะฐะผะพ ะพัะฒะพัะธ ะฒัะฐัะฐัะฐ... ะบะพั ะฒัะฐัะฐ? :','ะะผะฐั ัะตัะตัะตะฝัะธั..?','ะัะผะฐะผ','ะัะผะฐ ัะฐะบะฐะฒะฐ ัะตัะตัะตะฝัะธั'\n    ]\n    },\n    data: {},\n    input: {},\n    errors: {},\n    message: false,\n    location: false,\n    locate: false,\n    loc_id: '',\n    rep: true\n  }\n  componentDidMount() {\n    if(this.props.city){ this.props.getLocations('street',this.props.city) }\n  }\n\n  addData = data => {\n    console.log('Add in Locations: ',data)\n    this.setState({\n      ...this.state,\n      data: {...this.state.data, ...data}\n    })\n  }\n\n  getInput = (value,name) => {\n    this.setState({\n      input: {...this.state.input, [name]: value}\n    })\n    let nm = name.concat('s')\n    let verified = _.filter(this.props[nm], entry => {\n      if(name==='street'){\n        return entry.title === value\n      } else {\n        return Number(entry.title) === value\n      }\n    })\n    if(name!=='location' && verified.length === 0){\n      this.setState({\n        errors: {[name]: name},\n        [name]: false\n      })\n    } else {\n      this.setState({\n        errors: _.omit(this.state.errors, [name]),\n        [name]: true\n      })\n    }\n\n  }\n\n// on Reference: CHECK REFERENCE in DB ==============================\n  checkReference = ref => {\n    this.props.checkReference(ref).then( res => {\n      if(res.error){\n        this.setState({\n          message: true,\n          errors: res.error\n        })\n      } else {\n        console.log(res)\n        this.setState({\n          input: {...this.state.input, ...res},\n          data: {...this.state.data, location: res.id, ref: 1},\n          loc_id: res.id,\n          message: false,\n          errors: ''\n        })\n      }\n    })\n    .catch( err => {} )\n  }\n\n// Don't have a Reference: input Location manualy - street,number =====\n  noRef = e => {\n    this.setState({\n      rep: false,\n      loc_id: '',\n      message: false,\n      errors: ''\n    })\n  }\n\n// =====================================================================\n// =====================================================================\n// ======= SUBMIT BUTTONS ==============================================\n  onSubmit = e => {\n    if(!this.state.locate || this.state.rep ){\n      e.preventDefault()\n// update local state\n      this.saveLocation()\n    } else {\n// API:POST\n      this.submitLocation()\n      // navigate to /user\n    }\n  }\n\n// Save Street-Number in Local State\n  saveLocation = () => {\n    if(Object.keys(this.state.errors).length === 0){\n      const {rep,loc_id,data} = this.state\n      //this.props.addUserLocation({location: rep? loc_id : data.location})\n      this.setState({\n        rep: false,\n        locate: true,\n        errors: {},\n        message: false\n      })\n    } else {\n      this.setState({\n        message: true,\n        errors: 4\n      })\n    }\n  }\n\n// Save Full Location into user_location and Global Store\n  submitLocation = () => {\n    this.props.userAddLocation(this.state.data)\n  }\n\n// =====================================================================\n// =====================================================================\n  render() {\n    const { streets,lan,city,cities,locations } = this.props\n    const ui = this.state.ui[lan]\n    const { street,location,locate,message,input,rep,loc_id } = this.state\n    let cty = ''\n    if(cities){\n      cities.forEach( entry => {\n        if(entry.id === city) cty=entry.title\n      })\n    }\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        {!locate?\n          <p className={street !== undefined && !street? 'left warent' : 'left'}>\n            {rep? ui[6] : ui[1] + cty +':'}\n          </p> :\n          <LocationRow onClick={checkReference} row={input} stat={true} lan={lan} />\n        }\n        {rep && <ReferenceInput lan={lan} onRef={this.checkReference} />}\n{/* =====  Street First  ===============*/}\n        {!locate && !rep &&\n          <UserLocation lan={lan}\n            name='street'\n            getInput={this.getInput}\n            onNewData={this.addData}\n            list={streets}\n            getNumbers={this.props.getLocations}\n        />}\n{/* =====  User is Locate: get Address details and phone  ===============*/}\n        {locations && locations.length > 0 && street && !locate && !rep &&\n          <p className={location !== undefined && !location? 'left short warent' : 'left short'}>{ui[2]}\n            <UserLocationNumber\n              name='location'\n              getInput={this.getInput}\n              onNewData={this.addData}\n              list={locations}\n            />\n          </p>\n        }\n{/* =====  User is Locate: display form from Location details  ===============*/}\n        {locate &&\n          <div className='custom-form'>\n            <Divider horizontal></Divider>\n            <p className='vintage left'>{ui[5]}</p>\n            <UserDoor lan={lan} addData={this.addData}/>\n          </div>\n        }\n        <Divider horizontal></Divider>\n        {message && <Message positive={this.state.errors<3} negative={this.state.errors>2} content={ui[this.state.errors]} />}\n        <div className='column sixteen wide oval-but extra-padded'>\n{/* =====  Check if User has Reference  =================================*/}\n          {rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' disabled={!loc_id || loc_id===''}\n                  icon='thumbs up'\n                  content='OK'\n                  onClick={this.onSubmit}\n                />\n                <Button\n                  disabled={loc_id || loc_id!==''}\n                  icon='exclamation circle' color='blue' content={ui[7]}\n                  onClick={this.noRef}\n                />\n              </Button.Group>\n            </div>\n          }\n          {!rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' content='Clear' />\n                <Button\n                  as={Link} to='/user'\n                  disabled={!location}\n                  basic={!location}\n                  color='black'\n                  content={ui[3]}\n                  onClick={this.onSubmit}\n                />\n              </Button.Group>\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nUserLocationsPage.propType = {\n  lan: PropType.string.isRequired,\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  street: state.settings.street,\n  cities: state.settings.cities,\n  streets: state.settings.streets,\n  locations: state.user.locations,\n  lan: state.settings.lan\n})\n\nexport default connect( mapStateToProps,\n  {\n    getLocations,\n    addUserLocation,\n    userAddLocation,\n    checkReference\n  }\n)(UserLocationsPage)\n\n//<AppSetup lan={lan} list={streets} setup='user_loc' usersetup={true} name='street' />\n\n/* ------- Locations Search List -------------\n<UserLocation lan={lan}\n  name='location'\n  getInput={this.getInput}\n  onNewData={this.addData}\n  list={locations}\n/>\n*/\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport { userUpdateLocation } from '../../actions/user'\nimport UserDoor from '../forms/userDoor'\n\nclass UserLocationEdit extends React.Component {\n  state = {\n    ui: {\n      en: ['Edit this Location:','Save','Cancel','Reset'],\n      es: ['Editar Direccion:','Guardar','Cancelar','Omitir'],\n      bg: ['ะะตะดะฐะบัะธัะฐะน ะะดัะตั:','ะะฐะฟะฐะทะธ','ะะฐะทะฐะด','ะัะบะฐะถะธ']\n    },\n    input: {}\n  }\n\n  onInput = (name,value) => {\n    console.log(name,value)\n    this.setState({\n      input: {...this.state.input, [name]:value}\n    })\n  }\n\n  onSubmit = e => {\n    const { locations,match } = this.props\n    let id = Number(locations[match.params.id].id)\n    e.preventDefault()\n    this.props.userUpdateLocation(match.params.id, id, this.state.input)\n  }\n\n  render() {\n    const ui = this.state.ui[this.props.lan]\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        <div className='custom-form'>\n          <UserDoor\n            edit={true}\n            lan={this.props.lan}\n            loc={this.props.locations[this.props.match.params.id]}\n            onInput={this.onInput}\n          />\n        </div>\n        <Divider horizontal />\n        <div className='row centered menu-bar'>\n          <Button.Group widths='3'>\n            <Button as={Link} to='/user' content={ui[2]} />\n            <Button color='grey' content={ui[3]} />\n            <Button color='blue' icon='thumbs up' content={ui[1]} onClick={this.onSubmit} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  locations: state.user.locations\n})\nexport default connect(mapStateToProps, {userUpdateLocation})(UserLocationEdit)\n","import React from 'react'\nimport { Form,Button,Message,Divider } from 'semantic-ui-react'\nimport SearchSetupForm from '../SearchSetupForm'\n\n/*\n# CHECK SETTINGS: ?: if City, ?: if Street\n# Then: Add City or Street or Location\n*/\n\nexport default class AddLocationForm extends React.Component {\n  state = {\n    data: {},\n    bg: '',\n    lat: '',\n    code: '',\n    number: '',\n    ui: {\n      en: ['Street:lat','City:bg','City:lat','#','Next','Edit','Reset',\n        'System message:','Country','post','Street:bg','Add Location','Add Street'\n        ],\n      es: ['Calle:lat','Ciudad:bg','City:lat','#','Seguir','Editar',\n        'Cancelar','Mensaje del sistema:','Pais','postal','Calle:bg','Nueva Locacion',\n        'Nueva Calle'\n        ],\n      bg: ['ะฃะปะธัะฐ:ะปะฐั','ะัะฐะด:ะฑะณ','ะัะฐะด:ะปะฐั','#','ะะฐะฟะฐะทะธ','ะะตะดะฐะบัะธัะฐะน',\n        'ะะทัะธััะธ','ะกะธััะตะผะฝะพ ััะพะฑัะตะฝะธะต:','ะััะถะฐะฒะฐ','ะบะพะด','ะฃะปะธัะฐ:ะฑะณ','ะะพะฒ ะะดัะตั',\n        'ะะพะฒะฐ ะฃะปะธัะฐ'\n        ]\n    },\n    message: '',\n    msgClosed: true,\n    locate: false\n  }\n\n  onReset = e => {\n    if(e) {e.preventDefault()}\n    this.setState({\n      data:{},\n      bg:'',\n      lat:'',\n      code:'',\n      locate: false,\n      msgClosed: true,\n      message:'',\n      number: ''\n    })\n  }\n\n  closeMessage = e => {\n    e.preventDefault()\n    this.setState({\n      message: {}\n    })\n  }\n\n  onChange = (e, {name,value}) => {\n    value = (name === 'number')? Number(value) : value\n    this.setState({\n      data: { ...this.state.data, [name]: value},\n      [name]: value\n    })\n  }\n\n  onCity = (e, {name,value}) => {\n    const {city} = this.state\n    const {loc} = this.props\n    const ind = city[loc].findIndex( e => {\n      return e.c === value\n    })\n    const { code } = city[loc][ind]\n    this.setState({data: { ...this.state.data, ...{[name]: value, post: code}}})\n  }\n\n  onStreet = data => {\n    this.setState({data: { ...this.state.data, ...data}})\n// add new street\n  }\n\n  onSubmit = () => {\n    const { data,locate } = this.state\n    const { city,addLocation } = this.props\n    let tp = !city? 'city' : locate? 'location' : 'street'\n    if(city){ data.city = city }\n    console.log('POST Location: ', data)\n    addLocation(data,tp)\n    .then(res => {\n      this.setState({...this.state, ...res})\n    })\n    this.onReset()\n  }\n\n  render() {\n    const { lan,city,cities,streets } = this.props\n    const { data,message,msgClosed,locate } = this.state\n    const ui = this.state.ui[lan]\n    const str = 'street_bg'\n    const cty = 'city_bg'\n    let _options= [],\n        opts = []\n    if(cities && !streets){\n      opts = cities['bg'].map( e => {\n        return e.c\n      })\n      opts = opts.sort()\n      _options = opts.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.title\n      }))\n    } else if(streets) {\n      _options = streets.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.title\n      }))\n    }\n    return (\n      <Form onSubmit={this.onSubmit}>\n        <Form.Group>\n          <div className='ui grid' style={{width: '100vw'}}>\n\n{/* ====== MESSAGE: =====================================*/}\n            {Object.keys(message).length>0 &&\n              <div className='margined full-width'>\n                <Message as='div' positive={true} size='tiny'\n                onDismiss={this.closeMessage}\n                header={ui[7]}\n                content={message}\n              />\n            </div>}\n{/* ==== ADD CITY: =====================================*/}\n            {!city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg'\n                     onChange={this.onChange}\n                     value={this.state.bg}\n                     placeholder={ui[1]}\n                   />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat'\n                     onChange={this.onChange}\n                     value={this.state.lat}\n                     placeholder={ui[2]}\n                   />\n                </div>\n                <div className='twelve wide column'>\n                  <Form.Input fluid name='code'\n                     onChange={this.onChange}\n                     value={this.state.code}\n                     placeholder={ui[3]}\n                   />\n                </div>\n              </div>\n            }\n\n{/* ==== ADD STREET: =====================================*/}\n            {!locate && city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg'\n                    onChange={this.onChange}\n                    value={this.state.bg}\n                    placeholder={ui[10]}\n                  />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat'\n                    onChange={this.onChange}\n                    value={this.state.lat}\n                    placeholder={ui[0]}\n                  />\n                </div>\n                <div className='twelve wide column oval-but'>\n                  <Button fluid\n                    disabled={!this.state.data.bg || !this.state.data.lat}\n                    type='submit'\n                    content={ui[12]}\n                  />\n                // Or add new location number:\n                  <Divider horizontal content='or' />\n                  <Button fluid\n                    content={ui[11]}\n                    onClick={e => {\n                      e.preventDefault()\n                      e.stopPropagation()\n                      this.setState({data: {}, locate: true})\n                    }}\n                  />\n                </div>\n              </div>\n            }\n\n            {//!!streets.length &&\n            //  <SearchSetupForm\n            //    appsetup={true}\n            //    name='street' lan={lan}\n            //    list={streets}\n            //    onSubmit={ data => {\n            //      this.setState({data: { ...this.state.data, ...data}, locate: true})\n            //    }}\n            //  />\n            }\n\n{/* ==== ADD BUILDING Number: =====================================*/}\n            {locate &&\n              <div className='row centered'>\n                <div style={{marginBottom: '10px'}}>\n                  {!!streets.length &&\n                    <SearchSetupForm\n                      appsetup={false}\n                      name='street_id'\n                      list={streets} lan={lan}\n                      onStreet={this.onStreet}\n                    />}\n                </div>\n                <div className='six wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='number'\n                    onChange={this.onChange}\n                    value={this.state.number} placeholder={ui[3]}\n                  />\n                </div>\n              </div>\n            }\n\n{/* ==== IF NOTHING: =====================================*/}\n\n              <div className='row centered menu-bar'>\n                <Button.Group widths='2' className='padded'>\n                  <Button color='grey' onClick={this.onReset} content={ui[6]} />\n                  <Button color='blue' type='submit' content={ui[4]} />\n                </Button.Group>\n              </div>\n\n            </div>\n        </Form.Group>\n      </Form>\n    )\n  }\n}\n\n/*\n<div className='row'>\n  <div className='twelve wide column'>\n    <Form.Input onChange={this.onChange} value={data[street] || ''} name={street} placeholder={ui[0]} />\n  </div>\n  <div className=\"four wide column\">\n    <Form.Input onChange={this.onChange} value={data.number || ''} name='number' type='number' placeholder={ui[2]} />\n  </div>\n</div>\n*/\n","import React from 'react'\nimport Validator from 'validator'\nimport { Icon,Message,Button,Form } from 'semantic-ui-react'\n\nexport default class GetUser extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['Check','example@mail.com','my-secret-password','Save'],\n      es: ['Consulta','ejemplo@mail.com','mi-contrasena-secreta','Guardar'],\n      bg: ['ะัะพะฒะตัะธ','example@mail.com','ัะตะบัะตัะฝะฐัะฐ-ะผะธ-ะฟะฐัะพะปะฐ','ะะฐะฟะฐะทะธ']\n    }\n  }\n\n  onSubmit = () => {\n    const {data, errors} = this.state\n    const { submit,login,init,pass } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(!pass && Object.keys(err).length === 0) {\n      submit(data,false)\n    } else if(Object.keys(err).length === 0) {\n      login(data,true)\n      init()\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' color='grey' fluid={pass}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport GetUser from '../../forms/getUser'\n\nconst AddRep = ({admin,lan}) => {\n  return (\n    <GetUser submit={()=>{}} init={()=>{}} lan={lan} pass={false} />\n  )\n}\n\nexport default AddRep\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nconst MainMenu = ({lan,member,onMenu}) => {\n  const ui = {\n    // 'PRO' for 'products'\n    en: ['USER','LOC','PRO','LAB','FAC'],\n    es: ['USER','LOC','PRO','LAB','FAC'],\n    bg: ['USER','LOC','PRO','LAB','FAC']\n  }\nconsole.log(Math.log2(member)+2)\n  return (\n    <Button.Group color='blue' widths={ui[lan].length}>\n      {ui[lan].map( (el,ind) =>\n        <Button\n          key={ind}\n          disabled={member>1 && Math.log2(member)+2 !== ind}\n          name={ind}\n          content={el}\n          onClick={onMenu}\n        />)\n      }\n    </Button.Group>\n  )\n}\n\nexport default MainMenu\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button,Icon } from 'semantic-ui-react'\n\nconst SubMenu = ({lan,onMenu,subset}) => {\n  const ui = {\n    en: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    es: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    bg: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    }\n  }\n  return (\n    <Button.Group color='blue' className='submenu'>\n      {ui[lan][subset].map( (itm,indx) => {\n        return <Button onClick={onMenu} name={itm} content={!!indx? itm : ''}  icon={!indx? 'home' : ''} />\n      })}\n    </Button.Group>\n  )\n}\n\nexport default SubMenu\n","import axios from 'axios'\n\nexport default {\n  locations: {\n    addLocation: (data,type) => axios.post('/admin/location/'+type, {data}).then( res => res.data),\n    getList: data => axios.get('/admin/location/city', {data}).then( res => console.log((res)))\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider,Button } from 'semantic-ui-react'\n\nimport AddLocationForm from '../../forms/admin/addLocation'\nimport AddRep from './addRep'\nimport AdminMenu from './ui/menu'\nimport { addLocation } from '../../../actions/admin/'\n\nclass Locations extends React.Component {\n  state = {\n    view: '',\n    ui: {\n      en:['Location in:'],\n      es:['Localidad en:'],\n      bg:['ะะดัะตั ะฒ:']\n    }\n  }\n\n  render() {\n    const { addLocation,lan,city,cities,streets,isAdmin,view } = this.props\n    const ui = this.state.ui[lan]\n    let cty = cities.length>0? cities.find(element => {\n      console.log(element.id)\n      return element.id === city\n    }) : ''\n    console.log('city?: ', cities.length, cty.title)\n    return (\n      <div className='topped padded'>\n        <h3>{ui[0].concat(' ',city? cty.alt : 'Add City')}</h3>\n        <Divider horizontal />\n        {view === 'add' &&\n          <div className='custom-form'>\n            <AddLocationForm lan={lan} city={city} streets={streets} addLocation={addLocation}/>\n          </div>\n        }\n        <Divider horizontal />\n        {view === 'rep' && <AddRep admin={true} lan={lan} loc='bg' addLocation={addLocation}/>}\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  cities: state.settings.cities,\n  streets: state.settings.streets,\n  isAdmin: state.user.membership === 1\n})\nexport default connect(mapStateToProps,{ addLocation })(Locations)\n","import { ADD_LOCATION } from '../../types'\nimport api from '../../api/admin'\n\nexport const addLocation = (data,type) => dispatch => {\n  console.log('Add location: ',data,type)\n  return api.locations.addLocation(data,type).then( res => res )\n}\n\nexport const getList = type => dispatch => {\n  return api.getList(type).then()\n}\n","import React from 'react'\nimport { Form,Divider,Button,Icon} from 'semantic-ui-react'\n\nexport default class UserForm extends React.Component {\n  render() {\n    return (\n\n        <Form>\n          {this.props.view==='email' &&\n            <Form.Group inline>\n              <Form.Input width={10} label='email: ' placeholder='user@mail.com' />\n            </Form.Group>\n          }\n          <Button content='Submit' />\n        </Form>\n\n    )\n  }\n}\n","import React from 'react'\nimport UserForm from '../../../forms/user/userForm'\n\nconst User = ({view,lan}) => {\n  return (\n    <div className='topped padded'>\n      {view==='email' && <UserForm view={view} />}\n      {view==='list' && <div>List Users</div>}\n    </div>\n  )\n}\n\nexport default User\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider } from 'semantic-ui-react'\nimport Locations from './Locations'\nimport User from './user/views'\nimport MainMenu from './ui/mainMenu'\nimport SubMenu from './ui/subMenu'\n\nimport { getLocations } from '../../../actions/settup'\n\nclass AdminHome extends React.Component {\n  state = {\n    main: true,\n    mView: '',\n    sView: '',\n    ui: {\n      en: ['Admin Home','LAB Admin.','FAC Admin.'],\n      es: ['Admin Home','LAB Admin.','FAC Admin.'],\n      bg: ['ะะดะผะธะฝะธัััะฐัะธั','LAB ะะดะผะธะฝ.','FAC ะะดะผะธะฝ.'],\n    }\n  }\n\n  onSubMenu = (e,{name}) => {\n    this.setState({\n      main: name==='home',\n      sView: name\n    })\n  }\n\n  onMainMenu = (e,{content,name}) => {\n    console.log('MainMenu: ',content,name)\n    this.setState({\n      main: false,\n      mView: content.toLowerCase(),\n      indx: name\n    })\n  }\n\n  componentDidMount() {\n    const {city,getLocations} = this.props\n    if(city){ getLocations('street',city) }\n  }\n\n  render() {\n    const {lan,city,membership} = this.props\n    const { main,indx,sView,mView } = this.state\n    const ui = this.state.ui[lan]\n// translation props:\n    const trans = main? { left: 0 } : {\n      left: `-${window.screen.width}px`\n    }\n\n    return (\n      <div className='App-content padded Admin-Page'>\n        <h2>{ui[0]}</h2>\n      <div className='menu-bar carrousel move' style={trans}>\n        <MainMenu lan={lan} member={membership} onMenu={this.onMainMenu} />\n        <Divider horizontal />\n        {!main && <SubMenu member={membership} subset={mView} lan={lan} onMenu={this.onSubMenu} />}\n      </div>\n      {/*\n=========================\n  Use A Switch instead\n=========================\n      */}\n\n        {sView === 'email' && <User view={sView} lan={lan} />}\n        {sView === 'list' && <User view={sView} lan={lan} />}\n        {sView === 'add' && <Locations city={city? city : false} view={sView} lan={lan} />}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  cities: state.settings.cities,\n  membership: state.user.membership\n})\n\nexport default connect(mapStateToProps,{ getLocations })(AdminHome)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport HomePage from './components/pages/HomePage'\nimport Top from './components/pages/Top'\nimport OrdersPage from './components/pages/OrdersPage'\nimport CatalogPage from './components/pages/CatalogPage'\nimport UserRoute from './components/routes/user'\nimport AdminRoute from './components/routes/admin'\nimport RoleHome from './components/pages/admin/RoleHome'\nimport RepeatPage from './components/pages/RepeatPage'\nimport AdminLogin from './components/pages/admin/AdminLogin'\nimport PlayPage from './components/pages/PlayPage'\nimport CartPage from './components/pages/CartPage'\nimport UserPage from './components/pages/UserPage'\nimport UserLocationsPage from './components/pages/UserLocationsPage'\nimport UserLocationEdit from './components/pages/UserLocationEdit'\n//import MicroFront from './Microfront'\n// Admin Routes:\nimport Locations from './components/pages/admin/Locations'\nimport AdminHome from './components/pages/admin/'\n\n// MicroFrontEnds: -----------------------------------------\n//const {\n//  REACT_APP_CART_HOST: cartHost\n//} = process.env\n// console.log(process.env)\n// expose window global ------------------------------------\n\n//const Cart = ({history}) => (\n//  <MicroFront history={history} host={cartHost} name='Cart'/>\n//)\n// ---------------------------------------------------------\n\nconst App = ({location,lan}) => {\n  return (\n    <div className='App'>\n      <Route location={location} path='/' exact component={HomePage}/>\n      <Route location={location} path='/' component={Top}/>\n{/* ========= ADMIN ================== */}\n      <AdminRoute location={location} path='/admin/location' exact lan={lan} component={Locations}/>\n      <AdminRoute location={location} path='/admin/home' lan={lan} component={RoleHome}/>\n    {/*<AdminRoute location={location} path='/admin/:role' exact lan={lan} component={RoleHome}/>*/}\n{/* !!!! MAKE THIS ADMIN ROUTE !!!!! -------------------------------------------------------------------*/}\n      {/*<AdminRoute location={location} path='/admin/home' exact lan={lan} component={AdminHome}/>*/}\n      <AdminRoute location={location} path='/admin/boss' exact lan={lan} component={AdminHome}/>\n{/* ------------ ----------- ---------- ---------- ---------- ---------- ----------- ----------- -------*/}\n      <UserRoute location={location} path='/admin' exact lan={lan} component={AdminLogin}/>\n{/* ========= USER ================== */}\n      <UserRoute location={location} path='/order' exact lan={lan} component={OrdersPage}/>\n      <UserRoute location={location} path='/catalog' exact lan={lan} component={CatalogPage}/>\n      <UserRoute location={location} path='/repeat' exact lan={lan} component={RepeatPage}/>\n      <UserRoute location={location} path='/play' exact lan={lan} component={PlayPage}/>\n{/* Switch this for mmicrofrontend CART-route */}\n{/*<Route location={location} path='/cart' exact component={Cart} />*/}\n      <UserRoute location={location} path='/cart' exact lan={lan} component={CartPage}/>\n      <UserRoute location={location} path='/user' exact lan={lan} component={UserPage}/>\n      <UserRoute location={location} path='/user/locations' exact lan={lan} component={UserLocationsPage}/>\n      <UserRoute location={location} path='/user/location/:id' exact lan={lan} component={UserLocationEdit}/>\n    </div>\n  )\n}\n\nApp.propTypes = {\n  lan: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan\n})\n\nexport default connect(mapStateToProps)(App)\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport 'semantic-ui-css/semantic.min.css'\n\nimport './App.css'\nimport RootReducer from './RootReducer'\nimport { setUI,getProductList } from './actions/settup'\nimport { userSignedIn } from './actions/auth'\nimport { userInit,getLocalFacs } from './actions/user'\nimport setAuthHeader from './utils/setAuthHeader'\nimport setLanHeader from './utils/setLanHeader'\nimport App from './App'\n//import { subscribeSocket,fireSocket } from './websocket'\n//import * as serviceWorker from './serviceWorker'\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst initState = {\n  user: {},\n  settings: {\n    lan: 'bg',\n    socket: false,\n    one_city: 0,\n    banner: false\n  },\n  products: [],\n  order: {},\n  cart: []\n}\n\nconst store = createStore(\n  RootReducer,\n  initState,\n  composeEnhancers(applyMiddleware(thunk))\n)\n\nwindow.GS = store\n\nif(localStorage.valePizzaJWT){\n\n  let user = {}\n  user.new_user = false\n  user.token = localStorage.valePizzaJWT\n  setAuthHeader(user.token)\n// Check if User Exist:\n  //store.dispatch(checkUserToken(localStorage.valePizzaJWT))\n// If Credentials OK:\n  store.dispatch(userSignedIn(user))\n// If Credentials OK:\n  store.dispatch(userInit())\n    .then( user => {\n      const { locations } = user\n\n      if(!locations) return\n// get all user saved locations\n      let loc = locations.map( l => {\n        return l.city\n      })\n      let l = [...new Set(loc)]\n// get all facs for each unique user.location.city\n      //store.dispatch(getLocalFacs(l))\n    })\n    .catch( err => {\n      setAuthHeader()\n      user.token = ''\n      user.new_user = true\n      store.dispatch(userSignedIn(user))\n      console.log('initialUser: ', err.response.data.error)\n    })\n}\n\nsetLanHeader('bg')\n// set Global UI: language, one_city-, banner- mode\nstore.dispatch(setUI())\n// get full Global Products List from products\nstore.dispatch(getProductList('bg'))\n\nconst Root = (\n  <Provider store={store}>\n    <Router>\n      <Route component={App} />\n    </Router>\n  </Provider>\n)\n\nReactDOM.render(\n  Root,\n  document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister()\n"],"sourceRoot":""}